{"version":3,"file":"CarsView.CyzgtemI.js","sources":["../src/views/ClientsView.vue","../src/views/BrokersView.vue","../src/views/SuppliersView.vue","../src/views/CarModelsView.vue","../src/views/ColorsView.vue","../src/views/DischargePortsView.vue","../src/views/LoadingPortsView.vue","../src/components/BuyBillsTable.vue","../src/components/BuyDetailsTable.vue","../src/views/BuyView.vue","../src/views/SellView.vue","../src/views/CarsView.vue"],"sourcesContent":["<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst clients = ref([])\nconst { callApi, error } = useApi()\nconst showAddDialog = ref(false)\nconst showEditDialog = ref(false)\nconst editingClient = ref(null)\nconst user = ref(null)\nconst validationError = ref('')\n\n// Check if user is admin by getting role from localStorage\nconst isAdmin = computed(() => user.value?.role_id === 1)\n\nconst validateEmail = (email) => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  return emailRegex.test(email)\n}\n\nconst newClient = ref({\n  name: '',\n  address: '',\n  email: '',\n  mobiles: '',\n  id_no: ''\n})\n\nconst fetchClients = async () => {\n  const result = await callApi({\n    query: `\n      SELECT * FROM clients where is_broker = 0\n      ORDER BY name ASC\n    `,\n    params: []\n  })\n  if (result.success) {\n    clients.value = result.data\n  }\n}\n\nconst addClient = async () => {\n  if (!validateEmail(newClient.value.email)) {\n    validationError.value = 'Please enter a valid email address'\n    return\n  }\n\n  const result = await callApi({\n    query: `\n      INSERT INTO clients (name, address, email, mobiles, id_no, is_broker)\n      VALUES (?, ?, ?, ?, ?, 0)\n    `,\n    params: [\n      newClient.value.name,\n      newClient.value.address,\n      newClient.value.email,\n      newClient.value.mobiles,\n      newClient.value.id_no,\n    ]\n  })\n  if (result.success) {\n    showAddDialog.value = false\n    validationError.value = ''\n    newClient.value = {\n      name: '',\n      address: '',\n      email: '',\n      mobiles: '',\n      id_no: ''\n    }\n    await fetchClients()\n  }\n  else {\n    error.value = result.error\n    console.error('Error adding client:', result.error)\n  }\n}\n\nconst editClient = (client) => {\n  editingClient.value = { ...client }\n  showEditDialog.value = true\n}\n\nconst updateClient = async () => {\n  if (!validateEmail(editingClient.value.email)) {\n    validationError.value = 'Please enter a valid email address'\n    return\n  }\n\n  const result = await callApi({\n    query: `\n      UPDATE clients \n      SET name = ?, address = ?, email = ?, mobiles = ?, id_no = ?, is_broker = 0\n      WHERE id = ?\n    `,\n    params: [\n      editingClient.value.name,\n      editingClient.value.address,\n      editingClient.value.email,\n      editingClient.value.mobiles,\n      editingClient.value.id_no,\n      editingClient.value.id\n    ]\n  })\n  if (result.success) {\n    showEditDialog.value = false\n    editingClient.value = null\n    validationError.value = ''\n    await fetchClients()\n  }\n  else {\n    error.value = result.error\n    console.error('Error updating client:', result.error)\n  }\n}\n\nconst deleteClient = async (client) => {\n  if (confirm('Are you sure you want to delete this client?')) {\n    const result = await callApi({\n      query: 'DELETE FROM clients WHERE id = ?',\n      params: [client.id]\n    })\n    if (result.success) {\n      await fetchClients()\n    }\n  }\n}\n\nonMounted(() => {\n    const userStr = localStorage.getItem('user')\n  if (userStr) {\n    user.value = JSON.parse(userStr)\n    fetchClients()\n}\n}\n)\n</script>\n\n<template>\n  <div class=\"clients-view\">\n    <div class=\"header\">\n      <h2>Clients Management</h2>\n      <button @click=\"showAddDialog = true\" class=\"add-btn\">Add Client</button>\n    </div>\n    <div class=\"content\">\n      <table class=\"clients-table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Address</th>\n            <th>Email</th>\n            <th>Mobile</th>\n            <th>ID No</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"client in clients\" :key=\"client.id\">\n            <td>{{ client.name }}</td>\n            <td>{{ client.address }}</td>\n            <td>{{ client.email }}</td>\n            <td>{{ client.mobiles }}</td>\n            <td>{{ client.id_no }}</td>\n            <td>\n              <button @click=\"editClient(client)\" class=\"btn edit-btn\">Edit</button>\n              <button \n                v-if=\"isAdmin\"\n                @click=\"deleteClient(client)\" \n                class=\"btn delete-btn\"\n              >Delete</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Add Client Dialog -->\n    <div v-if=\"showAddDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add New Client</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"newClient.name\" \n            placeholder=\"Name\" \n            class=\"input-field\"\n         \n          />\n          <input \n            v-model=\"newClient.address\" \n            placeholder=\"Address\" \n            class=\"input-field\"\n            \n          />\n          <input \n            v-model=\"newClient.email\" \n            placeholder=\"Email\" \n            class=\"input-field\"\n            :class=\"{ 'error': validationError && newClient.email }\"\n           \n          />\n          <input \n            v-model=\"newClient.mobiles\" \n            placeholder=\"Mobile\" \n            class=\"input-field\"\n            \n          />\n          <input \n            v-model=\"newClient.id_no\" \n            placeholder=\"ID No\" \n            class=\"input-field\"\n            \n          />\n          <div v-if=\"validationError\" class=\"error-message\">{{ validationError }}</div>\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"addClient\" class=\"btn save-btn\" :disabled=\"!isAdmin\">Add</button>\n          <button @click=\"showAddDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Client Dialog -->\n    <div v-if=\"showEditDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Edit Client</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"editingClient.name\" \n            placeholder=\"Name\" \n            class=\"input-field\"\n            :readonly=\"!isAdmin\" \n          />\n          <input \n            v-model=\"editingClient.address\" \n            placeholder=\"Address\" \n            class=\"input-field\"\n           \n          />\n          <input \n            v-model=\"editingClient.email\" \n            placeholder=\"Email\" \n            class=\"input-field\"\n            :class=\"{ 'error': validationError && editingClient.email }\"\n           \n          />\n          <input \n            v-model=\"editingClient.mobiles\" \n            placeholder=\"Mobile\" \n            class=\"input-field\"\n          \n          />\n          <input \n            v-model=\"editingClient.id_no\" \n            placeholder=\"ID No\" \n            class=\"input-field\"\n           \n          />\n          <div v-if=\"validationError\" class=\"error-message\">{{ validationError }}</div>\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"updateClient\" class=\"btn save-btn\" :disabled=\"!isAdmin\">Save</button>\n          <button @click=\"showEditDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.clients-view {\n  padding: 20px;\n  width: 1000px;\n}\n\n.content {\n  margin-top: 20px;\n}\n\n.clients-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.clients-table th,\n.clients-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\n.clients-table th {\n  background-color: #f8f9fa;\n  font-weight: 600;\n}\n\n.clients-table tbody tr:hover {\n  background-color: #f5f5f5;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.add-btn {\n  padding: 8px 16px;\n  background-color: #10b981;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 8px;\n}\n\n.edit-btn {\n  background-color: #3b82f6;\n  color: white;\n}\n\n.delete-btn {\n  background-color: #ef4444;\n  color: white;\n}\n\n.save-btn {\n  background-color: #10b981;\n  color: white;\n}\n\n.cancel-btn {\n  background-color: #6b7280;\n  color: white;\n}\n\n.edit-input {\n  width: 100%;\n  padding: 4px 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialog {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  min-width: 400px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.input-field {\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.dialog-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n}\n\n.error {\n  border-color: #ef4444;\n}\n\n.error-message {\n  color: #ef4444;\n  font-size: 0.875rem;\n  margin-top: 4px;\n}\n\n.checkbox-field {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.checkbox-field input[type=\"checkbox\"] {\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n}\n\n.edit-input.checkbox {\n  width: auto;\n}\n\n.input-field[readonly] {\n  background-color: #f3f4f6;\n  cursor: not-allowed;\n}\n</style>","<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst clients = ref([])\nconst { callApi, error } = useApi()\nconst showAddDialog = ref(false)\nconst showEditDialog = ref(false)\nconst editingClient = ref(null)\nconst user = ref(null)\nconst validationError = ref('')\n\n// Check if user is admin by getting role from localStorage\nconst isAdmin = computed(() => user.value?.role_id === 1)\n\nconst validateEmail = (email) => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  return emailRegex.test(email)\n}\n\nconst newClient = ref({\n  name: '',\n  address: '',\n  email: '',\n  mobiles: '',\n  id_no: ''\n})\n\nconst fetchClients = async () => {\n  const result = await callApi({\n    query: `\n      SELECT * FROM clients where is_broker = 1\n      ORDER BY name ASC\n    `,\n    params: []\n  })\n  if (result.success) {\n    clients.value = result.data\n  }\n}\n\nconst addClient = async () => {\n  if (!validateEmail(newClient.value.email)) {\n    validationError.value = 'Please enter a valid email address'\n    return\n  }\n\n  const result = await callApi({\n    query: `\n      INSERT INTO clients (name, address, email, mobiles, id_no, is_broker)\n      VALUES (?, ?, ?, ?, ?, 1)\n    `,\n    params: [\n      newClient.value.name,\n      newClient.value.address,\n      newClient.value.email,\n      newClient.value.mobiles,\n      newClient.value.id_no,\n    ]\n  })\n  if (result.success) {\n    showAddDialog.value = false\n    validationError.value = ''\n    newClient.value = {\n      name: '',\n      address: '',\n      email: '',\n      mobiles: '',\n      id_no: ''\n    }\n    await fetchClients()\n  }\n  else {\n    error.value = result.error\n    console.error('Error adding client:', result.error)\n  }\n}\n\nconst editClient = (client) => {\n  editingClient.value = { ...client }\n  showEditDialog.value = true\n}\n\nconst updateClient = async () => {\n  if (!validateEmail(editingClient.value.email)) {\n    validationError.value = 'Please enter a valid email address'\n    return\n  }\n\n  const result = await callApi({\n    query: `\n      UPDATE clients \n      SET name = ?, address = ?, email = ?, mobiles = ?, id_no = ?, is_broker = 1\n      WHERE id = ?\n    `,\n    params: [\n      editingClient.value.name,\n      editingClient.value.address,\n      editingClient.value.email,\n      editingClient.value.mobiles,\n      editingClient.value.id_no,\n      editingClient.value.id\n    ]\n  })\n  if (result.success) {\n    showEditDialog.value = false\n    editingClient.value = null\n    validationError.value = ''\n    await fetchClients()\n  }\n  else {\n    error.value = result.error\n    console.error('Error updating client:', result.error)\n  }\n}\n\nconst deleteClient = async (client) => {\n  if (confirm('Are you sure you want to delete this client?')) {\n    const result = await callApi({\n      query: 'DELETE FROM clients WHERE id = ?',\n      params: [client.id]\n    })\n    if (result.success) {\n      await fetchClients()\n    }\n  }\n}\n\nonMounted(() => {\n    const userStr = localStorage.getItem('user')\n  if (userStr) {\n    user.value = JSON.parse(userStr)\n    fetchClients()\n}\n}\n)\n</script>\n\n<template>\n  <div class=\"clients-view\">\n    <div class=\"header\">\n      <h2>Brokers Management</h2>\n      <button @click=\"showAddDialog = true\" class=\"add-btn\">Add Client</button>\n    </div>\n    <div class=\"content\">\n      <table class=\"clients-table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Address</th>\n            <th>Email</th>\n            <th>Mobile</th>\n            <th>ID No</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"client in clients\" :key=\"client.id\">\n            <td>{{ client.name }}</td>\n            <td>{{ client.address }}</td>\n            <td>{{ client.email }}</td>\n            <td>{{ client.mobiles }}</td>\n            <td>{{ client.id_no }}</td>\n            <td>\n              <button @click=\"editClient(client)\" class=\"btn edit-btn\">Edit</button>\n              <button \n                v-if=\"isAdmin\"\n                @click=\"deleteClient(client)\" \n                class=\"btn delete-btn\"\n              >Delete</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Add Client Dialog -->\n    <div v-if=\"showAddDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add New Client</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"newClient.name\" \n            placeholder=\"Name\" \n            class=\"input-field\"\n         \n          />\n          <input \n            v-model=\"newClient.address\" \n            placeholder=\"Address\" \n            class=\"input-field\"\n            \n          />\n          <input \n            v-model=\"newClient.email\" \n            placeholder=\"Email\" \n            class=\"input-field\"\n            :class=\"{ 'error': validationError && newClient.email }\"\n           \n          />\n          <input \n            v-model=\"newClient.mobiles\" \n            placeholder=\"Mobile\" \n            class=\"input-field\"\n            \n          />\n          <input \n            v-model=\"newClient.id_no\" \n            placeholder=\"ID No\" \n            class=\"input-field\"\n            \n          />\n          <div v-if=\"validationError\" class=\"error-message\">{{ validationError }}</div>\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"addClient\" class=\"btn save-btn\" :disabled=\"!isAdmin\">Add</button>\n          <button @click=\"showAddDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Client Dialog -->\n    <div v-if=\"showEditDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Edit Client</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"editingClient.name\" \n            placeholder=\"Name\" \n            class=\"input-field\"\n            :readonly=\"!isAdmin\" \n          />\n          <input \n            v-model=\"editingClient.address\" \n            placeholder=\"Address\" \n            class=\"input-field\"\n           \n          />\n          <input \n            v-model=\"editingClient.email\" \n            placeholder=\"Email\" \n            class=\"input-field\"\n            :class=\"{ 'error': validationError && editingClient.email }\"\n           \n          />\n          <input \n            v-model=\"editingClient.mobiles\" \n            placeholder=\"Mobile\" \n            class=\"input-field\"\n          \n          />\n          <input \n            v-model=\"editingClient.id_no\" \n            placeholder=\"ID No\" \n            class=\"input-field\"\n           \n          />\n          <div v-if=\"validationError\" class=\"error-message\">{{ validationError }}</div>\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"updateClient\" class=\"btn save-btn\" :disabled=\"!isAdmin\">Save</button>\n          <button @click=\"showEditDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.clients-view {\n  padding: 20px;\n  width: 1000px;\n}\n\n.content {\n  margin-top: 20px;\n}\n\n.clients-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.clients-table th,\n.clients-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\n.clients-table th {\n  background-color: #f8f9fa;\n  font-weight: 600;\n}\n\n.clients-table tbody tr:hover {\n  background-color: #f5f5f5;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.add-btn {\n  padding: 8px 16px;\n  background-color: #10b981;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 8px;\n}\n\n.edit-btn {\n  background-color: #3b82f6;\n  color: white;\n}\n\n.delete-btn {\n  background-color: #ef4444;\n  color: white;\n}\n\n.save-btn {\n  background-color: #10b981;\n  color: white;\n}\n\n.cancel-btn {\n  background-color: #6b7280;\n  color: white;\n}\n\n.edit-input {\n  width: 100%;\n  padding: 4px 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialog {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  min-width: 400px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.input-field {\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.dialog-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n}\n\n.error {\n  border-color: #ef4444;\n}\n\n.error-message {\n  color: #ef4444;\n  font-size: 0.875rem;\n  margin-top: 4px;\n}\n\n.checkbox-field {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.checkbox-field input[type=\"checkbox\"] {\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n}\n\n.edit-input.checkbox {\n  width: auto;\n}\n\n.input-field[readonly] {\n  background-color: #f3f4f6;\n  cursor: not-allowed;\n}\n</style>","<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst suppliers = ref([])\nconst { callApi, error } = useApi()\nconst showAddDialog = ref(false)\nconst showEditDialog = ref(false)\nconst editingSupplier = ref(null)\nconst user = ref(null)\n\nconst isAdmin = computed(() => user.value?.role_id === 1)\n\nconst newSupplier = ref({\n  name: '',\n  contact_info: '',\n  notes: ''\n})\n\nconst fetchSuppliers = async () => {\n  const result = await callApi({\n    query: `\n      SELECT * FROM suppliers\n      ORDER BY name ASC\n    `,\n    params: []\n  })\n  if (result.success) {\n    suppliers.value = result.data\n  }\n}\n\nconst addSupplier = async () => {\n  const result = await callApi({\n    query: `\n      INSERT INTO suppliers (name, contact_info, notes)\n      VALUES (?, ?, ?)\n    `,\n    params: [\n      newSupplier.value.name,\n      newSupplier.value.contact_info,\n      newSupplier.value.notes\n    ]\n  })\n  if (result.success) {\n    showAddDialog.value = false\n    newSupplier.value = {\n      name: '',\n      contact_info: '',\n      notes: ''\n    }\n    await fetchSuppliers()\n  }\n  else {\n    error.value = result.error\n    console.error('Error adding supplier:', result.error)\n  }\n}\n\nconst editSupplier = (supplier) => {\n  editingSupplier.value = { ...supplier }\n  showEditDialog.value = true\n}\n\nconst updateSupplier = async () => {\n  const result = await callApi({\n    query: `\n      UPDATE suppliers \n      SET name = ?, contact_info = ?, notes = ?\n      WHERE id = ?\n    `,\n    params: [\n      editingSupplier.value.name,\n      editingSupplier.value.contact_info,\n      editingSupplier.value.notes,\n      editingSupplier.value.id\n    ]\n  })\n  if (result.success) {\n    showEditDialog.value = false\n    editingSupplier.value = null\n    await fetchSuppliers()\n  }\n  else {\n    error.value = result.error\n    console.error('Error updating supplier:', result.error)\n  }\n}\n\nconst deleteSupplier = async (supplier) => {\n  if (confirm('Are you sure you want to delete this supplier?')) {\n    const result = await callApi({\n      query: 'DELETE FROM suppliers WHERE id = ?',\n      params: [supplier.id]\n    })\n    if (result.success) {\n      await fetchSuppliers()\n    }\n  }\n}\n\nonMounted(() => {\n  const userStr = localStorage.getItem('user')\n  if (userStr) {\n    user.value = JSON.parse(userStr)\n    fetchSuppliers()\n  }\n\n})\n</script>\n\n<template>\n  <div class=\"suppliers-view\">\n    <div class=\"header\">\n      <h2>Suppliers Management</h2>\n      <button @click=\"showAddDialog = true\" class=\"add-btn\">Add Supplier</button>\n    </div>\n    <div class=\"content\">\n      <table class=\"suppliers-table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Contact Info</th>\n            <th>Notes</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"supplier in suppliers\" :key=\"supplier.id\">\n            <td>{{ supplier.name }}</td>\n            <td>{{ supplier.contact_info }}</td>\n            <td>{{ supplier.notes }}</td>\n            <td>\n              <button @click=\"editSupplier(supplier)\" class=\"btn edit-btn\">Edit</button>\n              <button \n                v-if=\"isAdmin\"\n                @click=\"deleteSupplier(supplier)\" \n                class=\"btn delete-btn\"\n              >Delete</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Add Supplier Dialog -->\n    <div v-if=\"showAddDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add New Supplier</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"newSupplier.name\" \n            placeholder=\"Name\" \n            class=\"input-field\"\n          />\n          <textarea \n            v-model=\"newSupplier.contact_info\" \n            placeholder=\"Contact Information\" \n            class=\"input-field textarea\"\n          ></textarea>\n          <textarea \n            v-model=\"newSupplier.notes\" \n            placeholder=\"Notes\" \n            class=\"input-field textarea\"\n          ></textarea>\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"addSupplier\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showAddDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Supplier Dialog -->\n    <div v-if=\"showEditDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Edit Supplier</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"editingSupplier.name\" \n            placeholder=\"Name\" \n            class=\"input-field\"\n          />\n          <textarea \n            v-model=\"editingSupplier.contact_info\" \n            placeholder=\"Contact Information\" \n            class=\"input-field textarea\"\n          ></textarea>\n          <textarea \n            v-model=\"editingSupplier.notes\" \n            placeholder=\"Notes\" \n            class=\"input-field textarea\"\n          ></textarea>\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"updateSupplier\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showEditDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.suppliers-view {\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.suppliers-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.suppliers-table th,\n.suppliers-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\n.suppliers-table th {\n  background-color: #f8f9fa;\n  font-weight: 600;\n}\n\n.suppliers-table tbody tr:hover {\n  background-color: #f5f5f5;\n}\n\n.add-btn {\n  padding: 8px 16px;\n  background-color: #10b981;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 8px;\n}\n\n.edit-btn {\n  background-color: #3b82f6;\n  color: white;\n}\n\n.delete-btn {\n  background-color: #ef4444;\n  color: white;\n}\n\n.save-btn {\n  background-color: #10b981;\n  color: white;\n}\n\n.cancel-btn {\n  background-color: #6b7280;\n  color: white;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialog {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  min-width: 400px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.input-field {\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.dialog-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n}\n\n.error {\n  border-color: #ef4444;\n}\n\n.error-message {\n  color: #ef4444;\n  font-size: 0.875rem;\n  margin-top: 4px;\n}\n\n.textarea {\n  min-height: 100px;\n  resize: vertical;\n}\n</style>","<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst { callApi, error } = useApi()\nconst showAddBrandDialog = ref(false)\nconst showEditBrandDialog = ref(false)\nconst showAddCarNameDialog = ref(false)\nconst showEditCarNameDialog = ref(false)\nconst brands = ref([])\nconst carNames = ref([])\nconst editingBrand = ref(null)\nconst editingCarName = ref(null)\nconst user = ref(null)\n\nconst isAdmin = computed(() => user.value?.role_id === 1)\n\nconst newBrand = ref({\n  brand: ''\n})\n\nconst newCarName = ref({\n  car_name: '',\n  notes: '',\n  is_big_car: false,\n  id_brand: null\n})\n\nconst fetchBrands = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM brands ORDER BY brand ASC',\n    params: []\n  })\n  if (result.success) {\n    brands.value = result.data\n  }\n}\n\nconst fetchCarNames = async () => {\n  const result = await callApi({\n    query: `\n      SELECT cn.*, b.brand \n      FROM cars_names cn\n      LEFT JOIN brands b ON cn.id_brand = b.id \n      ORDER BY cn.car_name ASC\n    `,\n    params: []\n  })\n  if (result.success) {\n    carNames.value = result.data\n  }\n}\n\nconst addBrand = async () => {\n  const result = await callApi({\n    query: 'INSERT INTO brands (brand) VALUES (?)',\n    params: [newBrand.value.brand]\n  })\n  if (result.success) {\n    showAddBrandDialog.value = false\n    newBrand.value = { brand: '' }\n    await fetchBrands()\n  }else{\n    console.log(result.error)\n  }\n}\n\nconst addCarName = async () => {\n  const result = await callApi({\n    query: 'INSERT INTO cars_names (car_name, notes, is_big_car, id_brand) VALUES (?, ?, ?, ?)',\n    params: [\n      newCarName.value.car_name,\n      newCarName.value.notes,\n      newCarName.value.is_big_car ? 1 : 0,\n      newCarName.value.id_brand\n    ]\n  })\n  if (result.success) {\n    showAddCarNameDialog.value = false\n    newCarName.value = { car_name: '', notes: '', is_big_car: false, id_brand: null }\n    await fetchCarNames()\n  }\n  else{\n    console.log(result.error)\n  }\n}\n\nconst editBrand = (brand) => {\n  editingBrand.value = { ...brand }\n  showEditBrandDialog.value = true\n}\n\nconst editCarName = (carName) => {\n  editingCarName.value = { ...carName }\n  showEditCarNameDialog.value = true\n}\n\nconst updateBrand = async () => {\n  const result = await callApi({\n    query: 'UPDATE brands SET brand = ? WHERE id = ?',\n    params: [editingBrand.value.brand, editingBrand.value.id]\n  })\n  if (result.success) {\n    showEditBrandDialog.value = false\n    editingBrand.value = null\n    await fetchBrands()\n  }\n  else{\n    console.log(result.error)\n  }\n}\n\nconst updateCarName = async () => {\n  const result = await callApi({\n    query: 'UPDATE cars_names SET car_name = ?, notes = ?, is_big_car = ?, id_brand = ? WHERE id = ?',\n    params: [\n      editingCarName.value.car_name,\n      editingCarName.value.notes,\n      editingCarName.value.is_big_car ? 1 : 0,\n      editingCarName.value.id_brand,\n      editingCarName.value.id\n    ]\n  })\n  if (result.success) {\n    showEditCarNameDialog.value = false\n    editingCarName.value = null\n    await fetchCarNames()\n  }\n  else{\n    console.log(result.error)\n  }\n}\n\nconst deleteBrand = async (brand) => {\n  if (confirm('Are you sure you want to delete this brand?')) {\n    const result = await callApi({\n      query: 'DELETE FROM brands WHERE id = ?',\n      params: [brand.id]\n    })\n    if (result.success) {\n      await fetchBrands()\n    }\n  }\n}\n\nconst deleteCarName = async (carName) => {\n  if (confirm('Are you sure you want to delete this car name?')) {\n    const result = await callApi({\n      query: 'DELETE FROM cars_names WHERE id = ?',\n      params: [carName.id]\n    })\n    if (result.success) {\n      await fetchCarNames()\n    }\n  }\n}\n\nonMounted(() => {\n  const userStr = localStorage.getItem('user')\n  if (userStr) {\n    user.value = JSON.parse(userStr)\n    fetchBrands()\n    fetchCarNames()\n  }\n})\n</script>\n\n<template>\n  <div class=\"models-view\">\n    <div class=\"section\">\n      <div class=\"header\">\n        <h2>Brands Management</h2>\n        <button @click=\"showAddBrandDialog = true\" class=\"add-btn\">Add Brand</button>\n      </div>\n      <table class=\"data-table\">\n        <thead>\n          <tr>\n            <th>Brand</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"brand in brands\" :key=\"brand.id\">\n            <td>{{ brand.brand }}</td>\n            <td>\n              <button @click=\"editBrand(brand)\" class=\"btn edit-btn\">Edit</button>\n              <button \n                v-if=\"isAdmin\"\n                @click=\"deleteBrand(brand)\" \n                class=\"btn delete-btn\"\n              >Delete</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div class=\"section\">\n      <div class=\"header\">\n        <h2>Car Names Management</h2>\n        <button @click=\"showAddCarNameDialog = true\" class=\"add-btn\">Add Car Name</button>\n      </div>\n      <table class=\"data-table\">\n        <thead>\n          <tr>\n            <th>Car Name</th>\n            <th>Brand</th>\n            <th>Notes</th>\n            <th>Big Car</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"carName in carNames\" :key=\"carName.id\">\n            <td>{{ carName.car_name }}</td>\n            <td>{{ carName.brand }}</td>\n            <td>{{ carName.notes }}</td>\n            <td>{{ carName.is_big_car ? 'Yes' : 'No' }}</td>\n            <td>\n              <button @click=\"editCarName(carName)\" class=\"btn edit-btn\">Edit</button>\n              <button \n                v-if=\"isAdmin\"\n                @click=\"deleteCarName(carName)\" \n                class=\"btn delete-btn\"\n              >Delete</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Add Brand Dialog -->\n    <div v-if=\"showAddBrandDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add New Brand</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"newBrand.brand\" \n            placeholder=\"Brand Name\" \n            class=\"input-field\"\n          />\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"addBrand\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showAddBrandDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Brand Dialog -->\n    <div v-if=\"showEditBrandDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Edit Brand</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"editingBrand.brand\" \n            placeholder=\"Brand Name\" \n            class=\"input-field\"\n          />\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"updateBrand\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showEditBrandDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Add Car Name Dialog -->\n    <div v-if=\"showAddCarNameDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add New Car Name</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"newCarName.car_name\" \n            placeholder=\"Car Name\"\n          >\n        </div>\n        <div class=\"form-group\">\n          <select v-model=\"newCarName.id_brand\">\n            <option value=\"\">Select Brand</option>\n            <option v-for=\"brand in brands\" :key=\"brand.id\" :value=\"brand.id\">\n              {{ brand.brand }}\n            </option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <input \n            v-model=\"newCarName.notes\" \n            placeholder=\"Notes\"\n          >\n        </div>\n        <div class=\"form-group\">\n          <label>\n            <input \n              type=\"checkbox\" \n              v-model=\"newCarName.is_big_car\"\n            > Big Car\n          </label>\n        </div>\n        <div class=\"dialog-buttons\">\n          <button @click=\"addCarName\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showAddCarNameDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Car Name Dialog -->\n    <div v-if=\"showEditCarNameDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Edit Car Name</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"editingCarName.car_name\" \n            placeholder=\"Car Name\"\n          >\n        </div>\n        <div class=\"form-group\">\n          <select v-model=\"editingCarName.id_brand\">\n            <option value=\"\">Select Brand</option>\n            <option v-for=\"brand in brands\" :key=\"brand.id\" :value=\"brand.id\">\n              {{ brand.brand }}\n            </option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <input \n            v-model=\"editingCarName.notes\" \n            placeholder=\"Notes\"\n          >\n        </div>\n        <div class=\"form-group\">\n          <label>\n            <input \n              type=\"checkbox\" \n              v-model=\"editingCarName.is_big_car\"\n            > Big Car\n          </label>\n        </div>\n        <div class=\"dialog-buttons\">\n          <button @click=\"updateCarName\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showEditCarNameDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.models-view {\n  padding: 20px;\n}\n\n.section {\n  margin-bottom: 40px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.data-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.data-table th,\n.data-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\n.data-table th {\n  background-color: #f8f9fa;\n  font-weight: 600;\n}\n\n.data-table tbody tr:hover {\n  background-color: #f5f5f5;\n}\n\n.add-btn {\n  padding: 8px 16px;\n  background-color: #10b981;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 8px;\n}\n\n.edit-btn {\n  background-color: #3b82f6;\n  color: white;\n}\n\n.delete-btn {\n  background-color: #ef4444;\n  color: white;\n}\n\n.save-btn {\n  background-color: #10b981;\n  color: white;\n}\n\n.cancel-btn {\n  background-color: #6b7280;\n  color: white;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialog {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  min-width: 400px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.input-field {\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.textarea {\n  min-height: 100px;\n  resize: vertical;\n}\n\n.dialog-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n}\n\n.checkbox-field {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.checkbox-field input[type=\"checkbox\"] {\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n}\n\n.checkbox-field label {\n  cursor: pointer;\n}\n</style>","<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst colors = ref([])\nconst { callApi, error } = useApi()\nconst showAddDialog = ref(false)\nconst showEditDialog = ref(false)\nconst editingColor = ref(null)\nconst user = ref(null)\n\nconst isAdmin = computed(() => user.value?.role_id === 1)\n\nconst newColor = ref({\n  color: ''\n})\n\nconst fetchColors = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM colors ORDER BY color ASC',\n    params: []\n  })\n  if (result.success) {\n    colors.value = result.data\n  }\n}\n\nconst addColor = async () => {\n  const result = await callApi({\n    query: 'INSERT INTO colors (color) VALUES (?)',\n    params: [newColor.value.color]\n  })\n  if (result.success) {\n    showAddDialog.value = false\n    newColor.value = { color: '' }\n    await fetchColors()\n  }\n}\n\nconst editColor = (color) => {\n  editingColor.value = { ...color }\n  showEditDialog.value = true\n}\n\nconst updateColor = async () => {\n  const result = await callApi({\n    query: 'UPDATE colors SET color = ? WHERE id = ?',\n    params: [editingColor.value.color, editingColor.value.id]\n  })\n  if (result.success) {\n    showEditDialog.value = false\n    editingColor.value = null\n    await fetchColors()\n  }\n}\n\nconst deleteColor = async (color) => {\n  if (confirm('Are you sure you want to delete this color?')) {\n    const result = await callApi({\n      query: 'DELETE FROM colors WHERE id = ?',\n      params: [color.id]\n    })\n    if (result.success) {\n      await fetchColors()\n    }\n  }\n}\n\nonMounted(() => {\n  const userStr = localStorage.getItem('user')\n  if (userStr) {\n    user.value = JSON.parse(userStr)\n    fetchColors()\n  }\n})\n</script>\n\n<template>\n  <div class=\"colors-view\">\n    <div class=\"header\">\n      <h2>Colors Management</h2>\n      <button @click=\"showAddDialog = true\" class=\"add-btn\">Add Color</button>\n    </div>\n    <div class=\"content\">\n      <table class=\"colors-table\">\n        <thead>\n          <tr>\n            <th>Color</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"color in colors\" :key=\"color.id\">\n            <td>{{ color.color }}</td>\n            <td>\n              <button @click=\"editColor(color)\" class=\"btn edit-btn\">Edit</button>\n              <button \n                v-if=\"isAdmin\"\n                @click=\"deleteColor(color)\" \n                class=\"btn delete-btn\"\n              >Delete</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Add Color Dialog -->\n    <div v-if=\"showAddDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add New Color</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"newColor.color\" \n            placeholder=\"Color Name\" \n            class=\"input-field\"\n          />\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"addColor\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showAddDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Color Dialog -->\n    <div v-if=\"showEditDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Edit Color</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"editingColor.color\" \n            placeholder=\"Color Name\" \n            class=\"input-field\"\n          />\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"updateColor\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showEditDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.colors-view {\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.colors-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.colors-table th,\n.colors-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\n.colors-table th {\n  background-color: #f8f9fa;\n  font-weight: 600;\n}\n\n.colors-table tbody tr:hover {\n  background-color: #f5f5f5;\n}\n\n.add-btn {\n  padding: 8px 16px;\n  background-color: #10b981;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 8px;\n}\n\n.edit-btn {\n  background-color: #3b82f6;\n  color: white;\n}\n\n.delete-btn {\n  background-color: #ef4444;\n  color: white;\n}\n\n.save-btn {\n  background-color: #10b981;\n  color: white;\n}\n\n.cancel-btn {\n  background-color: #6b7280;\n  color: white;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialog {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  min-width: 400px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.input-field {\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.dialog-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n}\n</style>","<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst dischargePorts = ref([])\nconst { callApi, error } = useApi()\nconst showAddDialog = ref(false)\nconst showEditDialog = ref(false)\nconst editingPort = ref(null)\nconst user = ref(null)\n\nconst isAdmin = computed(() => user.value?.role_id === 1)\n\nconst newPort = ref({\n  discharge_port: ''\n})\n\nconst fetchPorts = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM discharge_ports ORDER BY discharge_port ASC',\n    params: []\n  })\n  if (result.success) {\n    dischargePorts.value = result.data\n  }\n}\n\nconst addPort = async () => {\n  const result = await callApi({\n    query: 'INSERT INTO discharge_ports (discharge_port) VALUES (?)',\n    params: [newPort.value.discharge_port]\n  })\n  if (result.success) {\n    showAddDialog.value = false\n    newPort.value = { discharge_port: '' }\n    await fetchPorts()\n  }\n}\n\nconst editPort = (port) => {\n  editingPort.value = { ...port }\n  showEditDialog.value = true\n}\n\nconst updatePort = async () => {\n  const result = await callApi({\n    query: 'UPDATE discharge_ports SET discharge_port = ? WHERE id = ?',\n    params: [editingPort.value.discharge_port, editingPort.value.id]\n  })\n  if (result.success) {\n    showEditDialog.value = false\n    editingPort.value = null\n    await fetchPorts()\n  }\n}\n\nconst deletePort = async (port) => {\n  if (confirm('Are you sure you want to delete this discharge port?')) {\n    const result = await callApi({\n      query: 'DELETE FROM discharge_ports WHERE id = ?',\n      params: [port.id]\n    })\n    if (result.success) {\n      await fetchPorts()\n    }\n  }\n}\n\nonMounted(() => {\n  const userStr = localStorage.getItem('user')\n  if (userStr) {\n    user.value = JSON.parse(userStr)\n    fetchPorts()\n  }\n})\n</script>\n\n<template>\n  <div class=\"ports-view\">\n    <div class=\"header\">\n      <h2>Discharge Ports Management</h2>\n      <button @click=\"showAddDialog = true\" class=\"add-btn\">Add Discharge Port</button>\n    </div>\n    <div class=\"content\">\n      <table class=\"ports-table\">\n        <thead>\n          <tr>\n            <th>Discharge Port</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"port in dischargePorts\" :key=\"port.id\">\n            <td>{{ port.discharge_port }}</td>\n            <td>\n              <button @click=\"editPort(port)\" class=\"btn edit-btn\">Edit</button>\n              <button \n                v-if=\"isAdmin\"\n                @click=\"deletePort(port)\" \n                class=\"btn delete-btn\"\n              >Delete</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Add Port Dialog -->\n    <div v-if=\"showAddDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add New Discharge Port</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"newPort.discharge_port\" \n            placeholder=\"Discharge Port Name\" \n            class=\"input-field\"\n          />\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"addPort\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showAddDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Port Dialog -->\n    <div v-if=\"showEditDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Edit Discharge Port</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"editingPort.discharge_port\" \n            placeholder=\"Discharge Port Name\" \n            class=\"input-field\"\n          />\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"updatePort\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showEditDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.ports-view {\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.ports-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.ports-table th,\n.ports-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\n.ports-table th {\n  background-color: #f8f9fa;\n  font-weight: 600;\n}\n\n.ports-table tbody tr:hover {\n  background-color: #f5f5f5;\n}\n\n.add-btn {\n  padding: 8px 16px;\n  background-color: #10b981;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 8px;\n}\n\n.edit-btn {\n  background-color: #3b82f6;\n  color: white;\n}\n\n.delete-btn {\n  background-color: #ef4444;\n  color: white;\n}\n\n.save-btn {\n  background-color: #10b981;\n  color: white;\n}\n\n.cancel-btn {\n  background-color: #6b7280;\n  color: white;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialog {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  min-width: 400px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.input-field {\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.dialog-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n}\n</style>","<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst loadingPorts = ref([])\nconst { callApi, error } = useApi()\nconst showAddDialog = ref(false)\nconst showEditDialog = ref(false)\nconst editingPort = ref(null)\nconst user = ref(null)\n\nconst isAdmin = computed(() => user.value?.role_id === 1)\n\nconst newPort = ref({\n  loading_port: ''\n})\n\nconst fetchPorts = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM loading_ports ORDER BY loading_port ASC',\n    params: []\n  })\n  if (result.success) {\n    loadingPorts.value = result.data\n  }\n}\n\nconst addPort = async () => {\n  const result = await callApi({\n    query: 'INSERT INTO loading_ports (loading_port) VALUES (?)',\n    params: [newPort.value.loading_port]\n  })\n  if (result.success) {\n    showAddDialog.value = false\n    newPort.value = { loading_port: '' }\n    await fetchPorts()\n  }\n}\n\nconst editPort = (port) => {\n  editingPort.value = { ...port }\n  showEditDialog.value = true\n}\n\nconst updatePort = async () => {\n  const result = await callApi({\n    query: 'UPDATE loading_ports SET loading_port = ? WHERE id = ?',\n    params: [editingPort.value.loading_port, editingPort.value.id]\n  })\n  if (result.success) {\n    showEditDialog.value = false\n    editingPort.value = null\n    await fetchPorts()\n  }\n}\n\nconst deletePort = async (port) => {\n  if (confirm('Are you sure you want to delete this loading port?')) {\n    const result = await callApi({\n      query: 'DELETE FROM loading_ports WHERE id = ?',\n      params: [port.id]\n    })\n    if (result.success) {\n      await fetchPorts()\n    }\n  }\n}\n\nonMounted(() => {\n  const userStr = localStorage.getItem('user')\n  if (userStr) {\n    user.value = JSON.parse(userStr)\n    fetchPorts()\n  }\n})\n</script>\n\n<template>\n  <div class=\"ports-view\">\n    <div class=\"header\">\n      <h2>Loading Ports Management</h2>\n      <button @click=\"showAddDialog = true\" class=\"add-btn\">Add Loading Port</button>\n    </div>\n    <div class=\"content\">\n      <table class=\"ports-table\">\n        <thead>\n          <tr>\n            <th>Loading Port</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"port in loadingPorts\" :key=\"port.id\">\n            <td>{{ port.loading_port }}</td>\n            <td>\n              <button @click=\"editPort(port)\" class=\"btn edit-btn\">Edit</button>\n              <button \n                v-if=\"isAdmin\"\n                @click=\"deletePort(port)\" \n                class=\"btn delete-btn\"\n              >Delete</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Add Port Dialog -->\n    <div v-if=\"showAddDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add New Loading Port</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"newPort.loading_port\" \n            placeholder=\"Loading Port Name\" \n            class=\"input-field\"\n          />\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"addPort\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showAddDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Port Dialog -->\n    <div v-if=\"showEditDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Edit Loading Port</h3>\n        <div class=\"form-group\">\n          <input \n            v-model=\"editingPort.loading_port\" \n            placeholder=\"Loading Port Name\" \n            class=\"input-field\"\n          />\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"updatePort\" class=\"btn save-btn\">Save</button>\n          <button @click=\"showEditDialog = false\" class=\"btn cancel-btn\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.ports-view {\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.ports-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.ports-table th,\n.ports-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\n.ports-table th {\n  background-color: #f8f9fa;\n  font-weight: 600;\n}\n\n.ports-table tbody tr:hover {\n  background-color: #f5f5f5;\n}\n\n.add-btn {\n  padding: 8px 16px;\n  background-color: #10b981;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 8px;\n}\n\n.edit-btn {\n  background-color: #3b82f6;\n  color: white;\n}\n\n.delete-btn {\n  background-color: #ef4444;\n  color: white;\n}\n\n.save-btn {\n  background-color: #10b981;\n  color: white;\n}\n\n.cancel-btn {\n  background-color: #6b7280;\n  color: white;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialog {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  min-width: 400px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.input-field {\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.dialog-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n}\n</style>","<script setup>\nimport { defineProps, defineEmits } from 'vue'\n\nconst props = defineProps({\n  buyBills: {\n    type: Array,\n    required: true\n  },\n  selectedBill: {\n    type: Object,\n    default: null\n  }\n})\n\nconst emit = defineEmits(['select-bill'])\n\nconst selectBill = (bill) => {\n  emit('select-bill', bill)\n}\n</script>\n\n<template>\n  <div class=\"master-section\">\n    <div v-if=\"selectedBill\" class=\"selected-id\">\n      Selected Purchase ID: {{ selectedBill.id }}\n    </div>\n    <table class=\"data-table\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Date</th>\n          <th>Supplier</th>\n          <th>Amount</th>\n          <th>Paid</th>\n          <th>Balance</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr \n          v-for=\"bill in buyBills\" \n          :key=\"bill.id\"\n          :class=\"{ 'selected': selectedBill?.id === bill.id }\"\n          @click=\"selectBill(bill)\"\n        >\n          <td>{{ bill.id }}</td>\n          <td>{{ new Date(bill.date_buy).toLocaleDateString() }}</td>\n          <td>{{ bill.supplier_name }}</td>\n          <td>{{ bill.amount }}</td>\n          <td>{{ bill.payed }}</td>\n          <td>{{ bill.amount - bill.payed }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<style scoped>\n.master-section {\n  width: 100%;\n}\n\n.data-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.data-table th,\n.data-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #e5e7eb;\n}\n\n.data-table th {\n  background-color: #f8f9fa;\n  font-weight: 600;\n}\n\n.data-table tbody tr {\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.data-table tbody tr:hover {\n  background-color: #f3f4f6;\n}\n\n.data-table tbody tr.selected {\n  background-color: #e5e7eb;\n}\n\n.selected-id {\n  background-color: #f0fdf4;\n  color: #047857;\n  padding: 8px 16px;\n  border-radius: 4px;\n  margin-bottom: 16px;\n  border: 1px solid #10b981;\n  font-weight: 500;\n}\n</style>","<script setup>\nimport { defineProps, defineEmits, ref } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst { callApi, error, loading } = useApi()\n\nconst props = defineProps({\n  buyDetails: {\n    type: Array,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits(['add-detail', 'delete-detail', 'update-detail'])\n\nconst showEditDialog = ref(false)\nconst editingDetail = ref(null)\n\nconst confirmDelete = (detailId, isStockUpdated) => {\n  if (isStockUpdated) {\n    alert('Cannot delete details - Stock has already been updated')\n    return\n  }\n  if (confirm('Are you sure you want to delete this detail?')) {\n    emit('delete-detail', detailId)\n  }\n}\n\nconst openEditDialog = (detail) => {\n  editingDetail.value = { ...detail }\n  showEditDialog.value = true\n}\n\nconst handleEditSubmit = () => {\n  emit('update-detail', editingDetail.value)\n  showEditDialog.value = false\n  editingDetail.value = null\n}\n\nconst showStockAlert = async () => {\n  if (!props.buyDetails.length) {\n    alert('No details to process')\n    return\n  }\n\n  if (confirm('Are you sure you want to update the stock? This action cannot be undone.')) {\n    // Process each detail\n    for (const detail of props.buyDetails) {\n      // Create stock entries based on quantity\n      for (let i = 0; i < detail.QTY; i++) {\n        const result = await callApi({\n          query: `\n            INSERT INTO cars_stock \n            (id_buy_details,price_cell)\n            VALUES (?,?)\n          `,\n          params: [detail.id,detail.price_sell]\n        })\n        \n        if (!result.success) {\n          alert('Error creating stock entry')\n          console.error('Error creating stock entry:', result.error)\n          return\n        }\n      }\n    }\n\n    // Update the is_stock_updated flag in buy_bill\n    const result = await callApi({\n      query: 'UPDATE buy_bill SET is_stock_updated = 1 WHERE id = ?',\n      params: [props.buyDetails[0].id_buy_bill]\n    })\n\n    if (result.success) {\n      alert('Stock has been successfully updated')\n      emit('update-detail', props.buyDetails[0]) // Trigger refresh of parent component\n    } else {\n      console.error('Error updating is_stock_updated flag:', result.error)\n      alert('Error updating stock')\n    }\n  }\n}\n</script>\n\n<template>\n  <div class=\"detail-section\">\n    <div class=\"detail-header\">\n      <h3>Purchase Details</h3>\n      <div class=\"button-group\">\n        <button \n          @click=\"showStockAlert\" \n          class=\"stock-btn\"\n          :class=\"{ 'disabled': buyDetails[0]?.is_stock_updated }\"\n          :disabled=\"buyDetails[0]?.is_stock_updated\"\n          :title=\"buyDetails[0]?.is_stock_updated ? 'Stock has already been updated' : 'Update stock'\"\n        >\n          In Stock\n        </button>\n        <button @click=\"$emit('add-detail')\" class=\"add-btn\">Add Detail</button>\n      </div>\n    </div>\n    <table class=\"data-table\">\n      <thead>\n        <tr>\n          <th>Car</th>\n          <th>Color</th>\n          <th>Quantity</th>\n          <th>Amount</th>\n          <th>Year</th>\n          <th>Month</th>\n          <th>Price Sell</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"detail in buyDetails\" :key=\"detail.id\">\n          <td>{{ detail.car_name }}</td>\n          <td>{{ detail.color }}</td>\n          <td>{{ detail.QTY }}</td>\n          <td>{{ detail.amount }}</td>\n          <td>{{ detail.year }}</td>\n          <td>{{ detail.month }}</td>\n          <td>{{ detail.price_sell }}</td>\n          <td class=\"actions\">\n            <button \n              @click=\"openEditDialog(detail)\"\n              class=\"edit-btn\"\n              :class=\"{ 'disabled': detail.is_stock_updated }\"\n              :disabled=\"detail.is_stock_updated\"\n              :title=\"detail.is_stock_updated ? 'Cannot edit - Stock has been updated' : 'Edit this detail'\"\n            >\n              Edit\n            </button>\n            <button \n              @click=\"confirmDelete(detail.id, detail.is_stock_updated)\"\n              class=\"delete-btn\"\n              :class=\"{ 'disabled': detail.is_stock_updated }\"\n              :disabled=\"detail.is_stock_updated\"\n              :title=\"detail.is_stock_updated ? 'Cannot delete - Stock has been updated' : 'Delete this detail'\"\n            >\n              Delete\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <!-- Edit Dialog -->\n<div v-if=\"showEditDialog && editingDetail\" class=\"dialog-overlay\">\n  <div class=\"dialog\">\n    <h3>Edit Purchase Detail</h3>\n    <form @submit.prevent=\"handleEditSubmit\">\n      <div class=\"form-group\">\n        <label for=\"edit-qty\">Quantity</label>\n        <input \n          type=\"number\" \n          id=\"edit-qty\"\n          v-model=\"editingDetail.QTY\" \n          min=\"1\" \n          required\n        >\n      </div>\n      \n      <div class=\"form-group\">\n        <label for=\"edit-amount\">Amount</label>\n        <input \n          type=\"number\" \n          id=\"edit-amount\"\n          v-model=\"editingDetail.amount\" \n          step=\"0.01\" \n          required\n        >\n      </div>\n      \n      <div class=\"form-row\">\n        <div class=\"form-group half\">\n          <label for=\"edit-year\">Year</label>\n          <input \n            type=\"number\" \n            id=\"edit-year\"\n            v-model=\"editingDetail.year\" \n            required\n          >\n        </div>\n        \n        <div class=\"form-group half\">\n          <label for=\"edit-month\">Month</label>\n          <input \n            type=\"number\" \n            id=\"edit-month\"\n            v-model=\"editingDetail.month\" \n            min=\"1\" \n            max=\"12\" \n            required\n          >\n        </div>\n      </div>\n      \n      <!-- Add price_sell field -->\n      <div class=\"form-group\">\n        <label for=\"edit-price-sell\">Price Sell</label>\n        <input \n          type=\"number\" \n          id=\"edit-price-sell\"\n          v-model=\"editingDetail.price_sell\"\n          step=\"0.01\" \n          required\n        >\n      </div>\n      \n      <div class=\"form-group\">\n        <label for=\"edit-notes\">Notes</label>\n        <textarea \n          id=\"edit-notes\"\n          v-model=\"editingDetail.notes\" \n          rows=\"3\"\n        ></textarea>\n      </div>\n      \n      <div class=\"dialog-buttons\">\n        <button \n          type=\"button\" \n          @click=\"showEditDialog = false\" \n          class=\"cancel-btn\"\n        >\n          Cancel\n        </button>\n        <button type=\"submit\" class=\"submit-btn\">\n          Save Changes\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n</template>\n\n<style scoped>\n.detail-section {\n  width: 100%;\n  border-top: 1px solid #e5e7eb;\n  padding-top: 20px;\n}\n\n.data-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.data-table th,\n.data-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #e5e7eb;\n}\n\n.data-table th {\n  background-color: #f8f9fa;\n  font-weight: 600;\n}\n\n.detail-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.add-btn {\n  padding: 8px 16px;\n  background-color: #10b981;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.add-btn:hover {\n  background-color: #059669;\n}\n\n.delete-btn {\n  padding: 4px 8px;\n  background-color: #ef4444;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.delete-btn:hover {\n  background-color: #dc2626;\n}\n\n.delete-btn.disabled {\n  background-color: #9ca3af;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.delete-btn.disabled:hover {\n  background-color: #9ca3af;\n}\n\n.actions-cell {\n  display: flex;\n  gap: 8px;\n}\n\n.edit-btn {\n  padding: 4px 8px;\n  background-color: #3b82f6;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.edit-btn:hover {\n  background-color: #2563eb;\n}\n\n.edit-btn.disabled {\n  background-color: #9ca3af;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.dialog {\n  background: white;\n  padding: 24px;\n  border-radius: 8px;\n  min-width: 400px;\n  max-width: 90%;\n  max-height: 90vh;\n  overflow-y: auto;\n}\n\n.form-group {\n  margin-bottom: 16px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n}\n\n.form-group input,\n.form-group textarea {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n}\n\n.form-row {\n  display: flex;\n  gap: 16px;\n}\n\n.form-group.half {\n  flex: 1;\n}\n\n.dialog-buttons {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  margin-top: 24px;\n}\n\n.cancel-btn {\n  padding: 8px 16px;\n  background-color: #9ca3af;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.submit-btn {\n  padding: 8px 16px;\n  background-color: #10b981;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.cancel-btn:hover {\n  background-color: #6b7280;\n}\n\n.submit-btn:hover {\n  background-color: #059669;\n}\n\n.button-group {\n  display: flex;\n  gap: 12px;\n}\n\n.stock-btn {\n  padding: 8px 16px;\n  background-color: #3b82f6;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.stock-btn:hover {\n  background-color: #2563eb;\n}\n\n.stock-btn.disabled {\n  background-color: #9ca3af;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.stock-btn.disabled:hover {\n  background-color: #9ca3af;\n}\n\n</style>","<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { useApi } from '../composables/useApi'\nimport BuyBillsTable from '../components/BuyBillsTable.vue'\nimport BuyDetailsTable from '../components/BuyDetailsTable.vue'\n\n// API and base setup\nconst { callApi, error } = useApi()\n\n// State management\nconst buyBills = ref([])\nconst selectedBill = ref(null)\nconst buyDetails = ref([])\nconst suppliers = ref([])\nconst cars = ref([])\nconst colors = ref([])\n\n// Dialog controls\nconst showAddDialog = ref(false)\nconst showAddDetailDialog = ref(false)\n\n// Form models\nconst newPurchase = ref({\n  id_supplier: null,\n  date_buy: new Date().toISOString().slice(0, 16),\n  amount: 0,\n  payed: 0,\n  pi_path: ''\n})\n\nconst newDetail = ref({\n  id_car_name: null,\n  id_color: null,\n  amount: 0,\n  notes: '',\n  QTY: 1,\n  year: new Date().getFullYear(),\n  month: new Date().getMonth() + 1,\n  is_used_car: false,\n  id_buy_bill: null\n})\n\n// Data fetching functions\nconst fetchSuppliers = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM suppliers ORDER BY name ASC',\n    params: []\n  })\n  if (result.success) {\n    suppliers.value = result.data\n  }\n}\n\nconst addPurchase = async () => {\n  const result = await callApi({\n    query: `\n      INSERT INTO buy_bill (id_supplier, date_buy, amount, payed, pi_path)\n      VALUES (?, ?, ?, ?, ?)\n    `,\n    params: [\n      newPurchase.value.id_supplier,\n      newPurchase.value.date_buy,\n      newPurchase.value.amount,\n      newPurchase.value.payed,\n      newPurchase.value.pi_path\n    ]\n  })\n  \n  if (result.success) {\n    showAddDialog.value = false\n    await fetchBuyBills()\n    // Reset form\n    newPurchase.value = {\n      id_supplier: null,\n      date_buy: new Date().toISOString().slice(0, 16),\n      amount: 0,\n      payed: 0,\n      pi_path: ''\n    }\n  }\n  else {\n    console.error('Error adding purchase:', result.error);\n  }\n}\n\nconst fetchBuyBills = async () => {\n  const result = await callApi({\n    query: `\n      SELECT bb.*, s.name as supplier_name \n      FROM buy_bill bb \n      LEFT JOIN suppliers s ON bb.id_supplier = s.id \n      ORDER BY bb.date_buy DESC\n    `,\n    params: []\n  })\n  if (result.success) {\n    buyBills.value = result.data\n  }\n}\n\nconst fetchBuyDetails = async (billId) => {\n  const result = await callApi({\n    query: `\n      SELECT bd.*, cn.car_name, c.color, bb.is_stock_updated\n      FROM buy_details bd\n      LEFT JOIN cars_names cn ON bd.id_car_name = cn.id\n      LEFT JOIN colors c ON bd.id_color = c.id\n      LEFT JOIN buy_bill bb ON bd.id_buy_bill = bb.id\n      WHERE bd.id_buy_bill = ?\n    `,\n    params: [billId]\n  })\n  if (result.success) {\n    buyDetails.value = result.data\n  }\n  else{\n    console.error('Error fetching details:', result.error);\n  }\n}\n\nconst selectBill = (bill) => {\n  selectedBill.value = bill\n  fetchBuyDetails(bill.id)\n}\n\n\n\n\n\nconst fetchCars = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM cars_names ORDER BY car_name ASC',\n    params: []\n  })\n  if (result.success) {\n    cars.value = result.data\n  }\n}\n\nconst fetchColors = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM colors ORDER BY color ASC',\n    params: []\n  })\n  if (result.success) {\n    colors.value = result.data\n  }\n}\n\nconst addDetail = async () => {\n  const result = await callApi({\n    query: `\n      INSERT INTO buy_details \n      (id_car_name, id_color, amount, notes, QTY, year, month, is_used_car, id_buy_bill, price_sell)\n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n    `,\n    params: [\n      newDetail.value.id_car_name,\n      newDetail.value.id_color,\n      newDetail.value.amount,\n      newDetail.value.notes,\n      newDetail.value.QTY,\n      newDetail.value.year,\n      newDetail.value.month,\n      newDetail.value.is_used_car ? 1 : 0,\n      selectedBill.value.id,\n      newDetail.value.price_sell  // Add this\n    ]\n  })\n  \n  if (result.success) {\n    showAddDetailDialog.value = false\n    await fetchBuyDetails(selectedBill.value.id)\n    // Reset form\n    newDetail.value = {\n      id_car_name: null,\n      id_color: null,\n      amount: 0,\n      notes: '',\n      QTY: 1,\n      year: new Date().getFullYear(),\n      month: new Date().getMonth() + 1,\n      is_used_car: false,\n      id_buy_bill: null\n    }\n  }\n  else {\n    console.error('Error adding detail:', result.error);\n  }\n}\n\n// Lifecycle hooks\nconst user = ref(null)\nconst isAdmin = computed(() => user.value?.role_id === 1)\n\nonMounted(() => {\n  const userStr = localStorage.getItem('user')\n  if (userStr) {\n    user.value = JSON.parse(userStr)\n  }\n  fetchBuyBills()\n  fetchSuppliers()\n  fetchCars()\n  fetchColors()\n})\n\nconst handleDeleteDetail = async (detailId) => {\n  const result = await callApi({\n    query: 'DELETE FROM buy_details WHERE id = ?',\n    params: [detailId]\n  })\n  \n  if (result.success) {\n    // Refresh the details list after successful deletion\n    await fetchBuyDetails(selectedBill.value.id)\n  } else {\n    alert('Failed to delete detail. Please try again.')\n    console.error('Error deleting detail:', result.error)\n  }\n}\n\nconst handleUpdateDetail = async (updatedDetail) => {\n  const result = await callApi({\n    query: `\n      UPDATE buy_details \n      SET QTY = ?, amount = ?, year = ?, month = ?, notes = ?, price_sell = ?\n      WHERE id = ?\n    `,\n    params: [\n      updatedDetail.QTY,\n      updatedDetail.amount,\n      updatedDetail.year,\n      updatedDetail.month,\n      updatedDetail.notes,\n      updatedDetail.price_sell,  // Add this\n      updatedDetail.id\n    ]\n  })\n  \n  if (result.success) {\n    // Refresh the details list after successful update\n    await fetchBuyDetails(selectedBill.value.id)\n  } else {\n    alert('Failed to update detail. Please try again.')\n    console.error('Error updating detail:', result.error)\n  }\n}\n</script>\n\n<template>\n  <div class=\"buy-view\">\n    <div class=\"header\">\n      <h2>Buy Management</h2>\n      <button @click=\"showAddDialog = true\" class=\"add-btn\">Add New Purchase</button>\n    </div>\n\n    <div class=\"content\">\n      <div class=\"master-detail-vertical\">\n        <BuyBillsTable \n          :buyBills=\"buyBills\"\n          :selectedBill=\"selectedBill\"\n          @select-bill=\"selectBill\"\n        />\n\n        <BuyDetailsTable \n          v-if=\"selectedBill\"\n          :buyDetails=\"buyDetails\"\n          :isAdmin=\"isAdmin\"\n          @add-detail=\"showAddDetailDialog = true\"\n          @delete-detail=\"handleDeleteDetail\"\n          @update-detail=\"handleUpdateDetail\"\n        />\n      </div>\n    </div>\n\n    <!-- Dialogs -->\n    <div v-if=\"showAddDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add New Purchase</h3>\n        <form @submit.prevent=\"addPurchase\">\n          <div class=\"form-group\">\n            <label>Supplier</label>\n            <select v-model=\"newPurchase.id_supplier\" required>\n              <option value=\"\">Select Supplier</option>\n              <option v-for=\"supplier in suppliers\" \n                      :key=\"supplier.id\" \n                      :value=\"supplier.id\">\n                {{ supplier.name }}\n              </option>\n            </select>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Date</label>\n            <input type=\"datetime-local\" \n                   v-model=\"newPurchase.date_buy\" \n                   required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Amount</label>\n            <input type=\"number\" \n                   v-model=\"newPurchase.amount\" \n                   step=\"0.01\" \n                   required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Paid</label>\n            <input type=\"number\" \n                   v-model=\"newPurchase.payed\" \n                   step=\"0.01\" \n                   required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>PI Path</label>\n            <input type=\"text\" \n                   v-model=\"newPurchase.pi_path\">\n          </div>\n          \n          <div class=\"dialog-buttons\">\n            <button type=\"button\" \n                    @click=\"showAddDialog = false\" \n                    class=\"cancel-btn\">\n              Cancel\n            </button>\n            <button type=\"submit\" class=\"submit-btn\">\n              Add Purchase\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n    <div v-if=\"showAddDetailDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add Purchase Detail</h3>\n        <form @submit.prevent=\"addDetail\">\n          <div class=\"form-group\">\n            <label>Car</label>\n            <select v-model=\"newDetail.id_car_name\" required>\n              <option value=\"\">Select Car</option>\n              <option v-for=\"car in cars\" \n                      :key=\"car.id\" \n                      :value=\"car.id\">\n                {{ car.car_name }}\n              </option>\n            </select>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Color</label>\n            <select v-model=\"newDetail.id_color\" required>\n              <option value=\"\">Select Color</option>\n              <option v-for=\"color in colors\" \n                      :key=\"color.id\" \n                      :value=\"color.id\">\n                {{ color.color }}\n              </option>\n            </select>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Quantity</label>\n            <input type=\"number\" \n                   v-model=\"newDetail.QTY\" \n                   min=\"1\" \n                   required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Amount</label>\n            <input type=\"number\" \n                   v-model=\"newDetail.amount\" \n                   step=\"0.01\" \n                   required>\n          </div>\n          \n          <div class=\"form-row\">\n            <div class=\"form-group half\">\n              <label>Year</label>\n              <input type=\"number\" \n                     v-model=\"newDetail.year\" \n                     required>\n            </div>\n            \n            <div class=\"form-group half\">\n              <label>Month</label>\n              <input type=\"number\" \n                     v-model=\"newDetail.month\" \n                     min=\"1\" \n                     max=\"12\" \n                     required>\n            </div>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Price Sell</label>\n            <input type=\"number\" \n                   v-model=\"newDetail.price_sell\"\n                   step=\"0.01\"\n                   required>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Notes</label>\n            <textarea v-model=\"newDetail.notes\" rows=\"3\"></textarea>\n          </div>\n          \n          <div class=\"form-group checkbox\">\n            <label>\n              <input type=\"checkbox\" v-model=\"newDetail.is_used_car\">\n              Used Car\n            </label>\n          </div>\n          \n          <div class=\"dialog-buttons\">\n            <button type=\"button\" \n                    @click=\"showAddDetailDialog = false\" \n                    class=\"cancel-btn\">\n              Cancel\n            </button>\n            <button type=\"submit\" class=\"submit-btn\">\n              Add Detail\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.buy-view {\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.content {\n  background-color: white;\n  border-radius: 8px;\n  padding: 20px;\n}\n\n.master-detail-vertical {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.master-section {\n  width: 100%;\n}\n\n.detail-section {\n  width: 100%;\n  border-top: 1px solid #e5e7eb;\n  padding-top: 20px;\n}\n\n.data-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.data-table th,\n.data-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #e5e7eb;\n}\n\n.data-table th {\n  background-color: #f8f9fa;\n  font-weight: 600;\n}\n\n.data-table tbody tr {\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.data-table tbody tr:hover {\n  background-color: #f3f4f6;\n}\n\n.data-table tbody tr.selected {\n  background-color: #e5e7eb;\n}\n\n.empty-detail {\n  text-align: center;\n  color: #6b7280;\n  padding: 40px;\n}\n\n.add-btn {\n  padding: 8px 16px;\n  background-color: #10b981;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.add-btn:hover {\n  background-color: #059669;\n}\n\nh3 {\n  margin-top: 0;\n  margin-bottom: 20px;\n  color: #374151;\n}\n\n.selected-id {\n  background-color: #f0fdf4;\n  color: #047857;\n  padding: 8px 16px;\n  border-radius: 4px;\n  margin-bottom: 16px;\n  border: 1px solid #10b981;\n  font-weight: 500;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.dialog {\n  background-color: white;\n  padding: 24px;\n  border-radius: 8px;\n  width: 100%;\n  max-width: 500px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.form-group {\n  margin-bottom: 16px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: #374151;\n}\n\n.form-group input,\n.form-group select {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\n.form-group input:focus,\n.form-group select:focus {\n  outline: none;\n  border-color: #10b981;\n  ring: 2px #10b981;\n}\n\n.dialog-buttons {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  margin-top: 24px;\n}\n\n.cancel-btn {\n  padding: 8px 16px;\n  background-color: #e5e7eb;\n  color: #374151;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.cancel-btn:hover {\n  background-color: #d1d5db;\n}\n\n.submit-btn {\n  padding: 8px 16px;\n  background-color: #10b981;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.submit-btn:hover {\n  background-color: #059669;\n}\n\n.detail-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.form-row {\n  display: flex;\n  gap: 16px;\n}\n\n.form-group.half {\n  flex: 1;\n}\n\n.form-group textarea {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 14px;\n  resize: vertical;\n}\n\n.form-group.checkbox {\n  display: flex;\n  align-items: center;\n}\n\n.form-group.checkbox input {\n  width: auto;\n  margin-right: 8px;\n}\n\n.form-group.checkbox label {\n  display: flex;\n  align-items: center;\n  margin: 0;\n}\n\n</style>","<script setup>\nimport { ref, onMounted, watch } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst { callApi } = useApi()\nconst sellBills = ref([])\nconst carsStock = ref([])\nconst availableCars = ref([])\nconst loading = ref(true)\nconst stockLoading = ref(false)\nconst availableCarsLoading = ref(false)\nconst error = ref(null)\nconst selectedBillId = ref(null)\nconst showAddDialog = ref(false)\n// Add new refs for the assignment dialog\nconst showAssignDialog = ref(false)\nconst carToAssign = ref(null)\nconst loadingPorts = ref([])\nconst dischargePorts = ref([])\nconst clients = ref([])\n\n// Add new refs for edit dialog\nconst showEditDialog = ref(false)\nconst editingSellBill = ref({\n  id: null,\n  id_broker: null,\n  date_sell: '',\n  notes: ''\n})\n\n// Add new refs for car edit dialog\nconst showCarEditDialog = ref(false)\nconst editingCar = ref(null)\n\nconst newSellBill = ref({\n  id_broker: null,\n  date_sell: new Date().toISOString().split('T')[0], // Today's date in YYYY-MM-DD format\n  notes: ''\n})\n\n// Add ref for brokers list\nconst brokers = ref([])\n\nconst fetchSellBills = async () => {\n  loading.value = true\n  error.value = null\n  \n  try {\n    const result = await callApi({\n      query: `\n        SELECT \n          sb.id,\n          sb.date_sell,\n          sb.notes,\n          c.name as broker_name,\n          c.mobiles as broker_mobile\n        FROM sell_bill sb\n        LEFT JOIN clients c ON sb.id_broker = c.id AND c.is_broker = 1\n        ORDER BY sb.date_sell DESC\n      `,\n      params: []\n    })\n    \n    if (result.success) {\n      sellBills.value = result.data\n    } else {\n      error.value = result.error || 'Failed to fetch sell bills'\n    }\n  } catch (err) {\n    error.value = err.message || 'An error occurred'\n  } finally {\n    loading.value = false\n  }\n}\n\nconst fetchBrokers = async () => {\n  try {\n    const result = await callApi({\n      query: `\n        SELECT id, name, mobiles\n        FROM clients\n        WHERE is_broker = 1\n        ORDER BY name ASC\n      `,\n      params: []\n    })\n    \n    if (result.success) {\n      brokers.value = result.data\n    }\n  } catch (err) {\n    console.error('Error fetching brokers:', err)\n  }\n}\n\nconst selectBill = async (bill) => {\n  selectedBillId.value = bill.id\n  await fetchCarStock(bill.id)\n}\n\nconst fetchCarStock = async (sellBillId) => {\n  stockLoading.value = true\n  \n  try {\n    const result = await callApi({\n      query: `\n        SELECT \n          cs.id,\n          cs.vin,\n          cs.price_cell,\n          cs.date_loding,\n          cs.date_sell,\n          cs.notes,\n          cs.freight,\n          cs.path_documents,\n          cs.sell_pi_path,\n          cs.buy_pi_path,\n          c.name as client_name,\n          cn.car_name,\n          clr.color,\n          lp.loading_port,\n          dp.discharge_port,\n          bd.price_sell as buy_price\n        FROM cars_stock cs\n        LEFT JOIN clients c ON cs.id_client = c.id\n        LEFT JOIN buy_details bd ON cs.id_buy_details = bd.id\n        LEFT JOIN cars_names cn ON bd.id_car_name = cn.id\n        LEFT JOIN colors clr ON bd.id_color = clr.id\n        LEFT JOIN loading_ports lp ON cs.id_port_loading = lp.id\n        LEFT JOIN discharge_ports dp ON cs.id_port_discharge = dp.id\n        WHERE cs.id_sell = ? AND cs.hidden = 0\n        ORDER BY cs.id DESC\n      `,\n      params: [sellBillId]\n    })\n    \n    if (result.success) {\n      carsStock.value = result.data\n    } else {\n      error.value = result.error || 'Failed to fetch cars stock'\n    }\n  } catch (err) {\n    error.value = err.message || 'An error occurred'\n  } finally {\n    stockLoading.value = false\n  }\n}\n\nconst fetchAvailableCars = async () => {\n  availableCarsLoading.value = true\n  \n  try {\n    const result = await callApi({\n      query: `\n        SELECT \n          cs.id,\n          cs.vin,\n          cs.price_cell,\n          cs.date_loding,\n          cs.notes,\n          cs.freight,\n          c.name as client_name,\n          cn.car_name,\n          clr.color,\n          lp.loading_port,\n          dp.discharge_port,\n          bd.price_sell as buy_price\n        FROM cars_stock cs\n        LEFT JOIN clients c ON cs.id_client = c.id\n        LEFT JOIN buy_details bd ON cs.id_buy_details = bd.id\n        LEFT JOIN cars_names cn ON bd.id_car_name = cn.id\n        LEFT JOIN colors clr ON bd.id_color = clr.id\n        LEFT JOIN loading_ports lp ON cs.id_port_loading = lp.id\n        LEFT JOIN discharge_ports dp ON cs.id_port_discharge = dp.id\n        WHERE cs.id_sell IS NULL AND cs.hidden = 0\n        ORDER BY cs.id DESC\n      `,\n      params: []\n    })\n    \n    if (result.success) {\n      availableCars.value = result.data\n    } else {\n      error.value = result.error || 'Failed to fetch available cars'\n    }\n  } catch (err) {\n    error.value = err.message || 'An error occurred'\n  } finally {\n    availableCarsLoading.value = false\n  }\n}\n\nconst addSellBill = async () => {\n  try {\n    const result = await callApi({\n      query: `\n        INSERT INTO sell_bill (id_broker, date_sell, notes)\n        VALUES (?, ?, ?)\n      `,\n      params: [\n        newSellBill.value.id_broker,\n        newSellBill.value.date_sell,\n        newSellBill.value.notes\n      ]\n    })\n    \n    if (result.success) {\n      showAddDialog.value = false\n      // Reset form\n      newSellBill.value = {\n        id_broker: null,\n        date_sell: new Date().toISOString().split('T')[0],\n        notes: ''\n      }\n      // Refresh the list\n      await fetchSellBills()\n    } else {\n      error.value = result.error || 'Failed to add sell bill'\n    }\n  } catch (err) {\n    error.value = err.message || 'An error occurred'\n  }\n}\n\n// Add function to fetch loading ports\nconst fetchLoadingPorts = async () => {\n  try {\n    const result = await callApi({\n      query: 'SELECT * FROM loading_ports ORDER BY loading_port ASC',\n      params: []\n    })\n    \n    if (result.success) {\n      loadingPorts.value = result.data\n    }\n  } catch (err) {\n    console.error('Error fetching loading ports:', err)\n  }\n}\n\n// Add function to fetch discharge ports\nconst fetchDischargePorts = async () => {\n  try {\n    const result = await callApi({\n      query: 'SELECT * FROM discharge_ports ORDER BY discharge_port ASC',\n      params: []\n    })\n    \n    if (result.success) {\n      dischargePorts.value = result.data\n    }\n  } catch (err) {\n    console.error('Error fetching discharge ports:', err)\n  }\n}\n\n// Add function to fetch clients\nconst fetchClients = async () => {\n  try {\n    const result = await callApi({\n      query: 'SELECT * FROM clients WHERE is_broker = 0 ORDER BY name ASC',\n      params: []\n    })\n    \n    if (result.success) {\n      clients.value = result.data\n    }\n  } catch (err) {\n    console.error('Error fetching clients:', err)\n  }\n}\n\n// Modify the assignCarToBill function to show dialog first\nconst openAssignDialog = (car) => {\n  carToAssign.value = { ...car }\n  showAssignDialog.value = true\n}\n\nconst assignCarToBill = async () => {\n  if (!selectedBillId.value) {\n    alert('Please select a bill first')\n    return\n  }\n  \n  // Validate required fields\n  if (!carToAssign.value.id_client) {\n    alert('Client name is required')\n    return\n  }\n  \n  if (!carToAssign.value.id_port_discharge) {\n    alert('Discharge port is required')\n    return\n  }\n  \n  if (!carToAssign.value.price_cell) {\n    alert('Selling price is required')\n    return\n  }\n  \n  try {\n    const result = await callApi({\n      query: `\n        UPDATE cars_stock \n        SET id_sell = ?,\n            id_client = ?,\n            vin = ?,\n            id_port_loading = ?,\n            id_port_discharge = ?,\n            price_cell = ?\n        WHERE id = ?\n      `,\n      params: [\n        selectedBillId.value, \n        carToAssign.value.id_client,\n        carToAssign.value.vin,\n        carToAssign.value.id_port_loading,\n        carToAssign.value.id_port_discharge,\n        carToAssign.value.price_cell,\n        carToAssign.value.id\n      ]\n    })\n    \n    if (result.success) {\n      showAssignDialog.value = false\n      // Refresh both car lists\n      await fetchCarStock(selectedBillId.value)\n      await fetchAvailableCars()\n    } else {\n      error.value = result.error || 'Failed to assign car to bill'\n    }\n  } catch (err) {\n    error.value = err.message || 'An error occurred'\n  }\n}\n\n// Add this new function to unassign a car from a bill\nconst unassignCar = async (carId) => {\n  try {\n    const result = await callApi({\n      query: `\n        UPDATE cars_stock \n        SET id_client = NULL,\n            id_port_discharge = NULL,\n            id_sell = NULL\n        WHERE id = ?\n      `,\n      params: [carId]\n    })\n    \n    if (result.success) {\n      // Refresh both car lists\n      await fetchCarStock(selectedBillId.value)\n      await fetchAvailableCars()\n    } else {\n      error.value = result.error || 'Failed to unassign car'\n    }\n  } catch (err) {\n    error.value = err.message || 'An error occurred'\n  }\n}\n\n// Add new function to open edit dialog\nconst openEditDialog = (bill, event) => {\n  // Stop the click event from propagating to the row\n  event.stopPropagation()\n  \n  // Set the editing bill data\n  editingSellBill.value = {\n    id: bill.id,\n    id_broker: bill.id_broker,\n    date_sell: bill.date_sell.split('T')[0], // Format date for input\n    notes: bill.notes || ''\n  }\n  \n  showEditDialog.value = true\n}\n\n// Add new function to update sell bill\nconst updateSellBill = async () => {\n  try {\n    const result = await callApi({\n      query: `\n        UPDATE sell_bill \n        SET id_broker = ?, \n            date_sell = ?, \n            notes = ?\n        WHERE id = ?\n      `,\n      params: [\n        editingSellBill.value.id_broker,\n        editingSellBill.value.date_sell,\n        editingSellBill.value.notes,\n        editingSellBill.value.id\n      ]\n    })\n    \n    if (result.success) {\n      showEditDialog.value = false\n      // Refresh the list\n      await fetchSellBills()\n      \n      // If the edited bill was selected, refresh its data\n      if (selectedBillId.value === editingSellBill.value.id) {\n        await fetchCarStock(selectedBillId.value)\n      }\n    } else {\n      error.value = result.error || 'Failed to update sell bill'\n    }\n  } catch (err) {\n    error.value = err.message || 'An error occurred'\n  }\n}\n\n// Add new function to delete sell bill\nconst deleteSellBill = async (billId, event) => {\n  // Stop the click event from propagating to the row\n  event.stopPropagation()\n  \n  // Confirm deletion\n  if (!confirm('Are you sure you want to delete this sell bill? This will also unassign all cars from this bill.')) {\n    return\n  }\n  \n  try {\n    // First, unassign all cars from this bill\n    const unassignResult = await callApi({\n      query: `\n        UPDATE cars_stock \n        SET id_sell = NULL \n        WHERE id_sell = ?\n      `,\n      params: [billId]\n    })\n    \n    if (!unassignResult.success) {\n      error.value = unassignResult.error || 'Failed to unassign cars from bill'\n      return\n    }\n    \n    // Then delete the bill\n    const deleteResult = await callApi({\n      query: `\n        DELETE FROM sell_bill \n        WHERE id = ?\n      `,\n      params: [billId]\n    })\n    \n    if (deleteResult.success) {\n      // If the deleted bill was selected, clear selection\n      if (selectedBillId.value === billId) {\n        selectedBillId.value = null\n        carsStock.value = []\n      }\n      \n      // Refresh the lists\n      await fetchSellBills()\n      await fetchAvailableCars()\n    } else {\n      error.value = deleteResult.error || 'Failed to delete sell bill'\n    }\n  } catch (err) {\n    error.value = err.message || 'An error occurred'\n  }\n}\n\nonMounted(async () => {\n  await fetchSellBills()\n  await fetchBrokers()\n  await fetchAvailableCars()\n  await fetchLoadingPorts()\n  await fetchDischargePorts()\n  await fetchClients()\n})\n\n// Add function to edit car\nconst editCar = (car) => {\n  editingCar.value = { ...car }\n  showCarEditDialog.value = true\n}\n\n// Add function to update car\nconst updateCar = async () => {\n  if (!editingCar.value) return\n  \n  try {\n    const result = await callApi({\n      query: `\n        UPDATE cars_stock \n        SET id_client = ?,\n            vin = ?,\n            id_port_loading = ?,\n            id_port_discharge = ?,\n            price_cell = ?,\n            notes = ?\n        WHERE id = ?\n      `,\n      params: [\n        editingCar.value.id_client,\n        editingCar.value.vin,\n        editingCar.value.id_port_loading,\n        editingCar.value.id_port_discharge,\n        editingCar.value.price_cell,\n        editingCar.value.notes,\n        editingCar.value.id\n      ]\n    })\n    \n    if (result.success) {\n      showCarEditDialog.value = false\n      await fetchCarStock(selectedBillId.value)\n    } else {\n      error.value = result.error || 'Failed to update car'\n    }\n  } catch (err) {\n    error.value = err.message || 'An error occurred'\n  }\n}\n</script>\n\n<template>\n  <div class=\"sell-view\">\n    <div class=\"header\">\n      <h2>Sell Bills Management</h2>\n      <button class=\"add-btn\" @click=\"showAddDialog = true\">\n        Add New Sell Bill\n      </button>\n    </div>\n    \n    <div v-if=\"selectedBillId\" class=\"selected-bill\">\n      Selected Bill ID: <span class=\"bill-id\">{{ selectedBillId }}</span>\n    </div>\n    \n    <div class=\"content\">\n      <div v-if=\"loading\" class=\"loading\">Loading...</div>\n      \n      <div v-else-if=\"error\" class=\"error\">{{ error }}</div>\n      \n      <div v-else class=\"tables-container\">\n        <!-- Sell Bills Table -->\n        <div class=\"sell-bills-table\">\n          <h3>Sell Bills</h3>\n          <table>\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Date</th>\n                <th>Broker</th>\n                <th>Notes</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr \n                v-for=\"bill in sellBills\" \n                :key=\"bill.id\" \n                @click=\"selectBill(bill)\"\n                :class=\"{ 'selected': selectedBillId === bill.id }\"\n              >\n                <td>{{ bill.id }}</td>\n                <td>{{ new Date(bill.date_sell).toLocaleDateString() }}</td>\n                <td>{{ bill.broker_name || 'N/A' }}</td>\n                <td>{{ bill.notes || 'N/A' }}</td>\n                <td>\n                  <button @click=\"openEditDialog(bill, $event)\" class=\"btn edit-btn\">Edit</button>\n                  <button class=\"btn delete-btn\" @click=\"deleteSellBill(bill.id, $event)\">Delete</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        \n        <!-- Car Stock Table for Selected Bill -->\n        <div class=\"car-stock-table\" v-if=\"selectedBillId\">\n          <h3>Cars in Selected Bill</h3>\n          <div v-if=\"stockLoading\" class=\"loading\">Loading cars...</div>\n          <div v-else-if=\"carsStock.length === 0\" class=\"no-data\">\n            No cars found for this sell bill\n          </div>\n          <table v-else>\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Car</th>\n                <th>Color</th>\n                <th>VIN</th>\n                <th>Client</th>\n                <th>Loading Port</th>\n                <th>Discharge Port</th>\n                <th>Buy Price</th>\n                <th>Sell Price</th>\n                <th>Profit</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"car in carsStock\" :key=\"car.id\">\n                <td>{{ car.id }}</td>\n                <td>{{ car.car_name || 'N/A' }}</td>\n                <td>{{ car.color || 'N/A' }}</td>\n                <td>{{ car.vin || 'N/A' }}</td>\n                <td>{{ car.client_name || 'N/A' }}</td>\n                <td>{{ car.loading_port || 'N/A' }}</td>\n                <td>{{ car.discharge_port || 'N/A' }}</td>\n                <td>${{ car.buy_price || 0 }}</td>\n                <td>${{ car.price_cell || 0 }}</td>\n                <td>${{ (car.price_cell - car.buy_price) || 0 }}</td>\n                <td>\n                  <button @click=\"editCar(car)\" class=\"edit-btn\">Edit</button>\n                  <button @click=\"unassignCar(car.id)\" class=\"unassign-btn\">Unassign</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        \n        <!-- Available Cars Table -->\n        <div class=\"available-cars-table\" v-if=\"selectedBillId\">\n          <h3>Available Cars</h3>\n          <div v-if=\"availableCarsLoading\" class=\"loading\">Loading...</div>\n          <div v-else-if=\"availableCars.length === 0\" class=\"no-data\">No available cars</div>\n          <table v-else>\n            <thead>\n              <tr>\n                <th>Car</th>\n                <th>Color</th>\n                <th>VIN</th>\n                <th>Buy Price</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"car in availableCars\" :key=\"car.id\">\n                <td>{{ car.car_name || 'N/A' }}</td>\n                <td>{{ car.color || 'N/A' }}</td>\n                <td>{{ car.vin || 'N/A' }}</td>\n                <td>${{ car.buy_price || 0 }}</td>\n                <td>${{ car.price_cell || 0 }}</td>\n                <td>${{ (car.price_cell - car.buy_price) || 0 }}</td>\n                <td>\n                  <button @click=\"openAssignDialog(car)\" class=\"assign-btn\">Assign to Bill</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Add Assignment Dialog -->\n    <div class=\"dialog-overlay\" v-if=\"showAssignDialog\">\n      <div class=\"dialog\">\n        <h2>Assign Car to Bill</h2>\n        <div class=\"form-group\">\n          <label for=\"client\">Client: <span class=\"required\">*</span></label>\n          <select id=\"client\" v-model=\"carToAssign.id_client\" required>\n            <option value=\"\">Select Client</option>\n            <option v-for=\"client in clients\" :key=\"client.id\" :value=\"client.id\">{{ client.name }}</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"vin\">VIN:</label>\n          <input type=\"text\" id=\"vin\" v-model=\"carToAssign.vin\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"loading-port\">Loading Port:</label>\n          <select id=\"loading-port\" v-model=\"carToAssign.id_port_loading\">\n            <option value=\"\">Select Loading Port</option>\n            <option v-for=\"port in loadingPorts\" :key=\"port.id\" :value=\"port.id\">{{ port.loading_port }}</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"discharge-port\">Discharge Port: <span class=\"required\">*</span></label>\n          <select id=\"discharge-port\" v-model=\"carToAssign.id_port_discharge\" required>\n            <option value=\"\">Select Discharge Port</option>\n            <option v-for=\"port in dischargePorts\" :key=\"port.id\" :value=\"port.id\">{{ port.discharge_port }}</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"sell-price\">Sell Price: <span class=\"required\">*</span></label>\n          <input type=\"number\" id=\"sell-price\" v-model=\"carToAssign.price_cell\" required>\n        </div>\n        <div class=\"dialog-buttons\">\n          <button @click=\"assignCarToBill\" class=\"primary\">Assign</button>\n          <button @click=\"showAssignDialog = false\">Cancel</button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Add Sell Bill Dialog -->\n    <div v-if=\"showAddDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add New Sell Bill</h3>\n        \n        <div class=\"form-group\">\n          <label for=\"broker\">Broker:</label>\n          <select id=\"broker\" v-model=\"newSellBill.id_broker\">\n            <option value=\"\">Select Broker</option>\n            <option v-for=\"broker in brokers\" :key=\"broker.id\" :value=\"broker.id\">\n              {{ broker.name }}\n            </option>\n          </select>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"date\">Date:</label>\n          <input type=\"date\" id=\"date\" v-model=\"newSellBill.date_sell\">\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"notes\">Notes:</label>\n          <textarea id=\"notes\" v-model=\"newSellBill.notes\"></textarea>\n        </div>\n        \n        <div class=\"dialog-buttons\">\n          <button @click=\"showAddDialog = false\">Cancel</button>\n          <button @click=\"addSellBill\" class=\"primary\">Add</button>\n        </div>\n      </div>\n    </div>\n    <!-- Car Edit Dialog -->\n    <div v-if=\"showCarEditDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Edit Car Details</h3>\n        <div class=\"form-group\">\n          <label for=\"edit-car-client\">Client:</label>\n          <select id=\"edit-car-client\" v-model=\"editingCar.id_client\">\n            <option value=\"\">Select Client</option>\n            <option v-for=\"client in clients\" :key=\"client.id\" :value=\"client.id\">\n              {{ client.name }}\n            </option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"edit-car-vin\">VIN:</label>\n          <input type=\"text\" id=\"edit-car-vin\" v-model=\"editingCar.vin\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"edit-car-loading-port\">Loading Port:</label>\n          <select id=\"edit-car-loading-port\" v-model=\"editingCar.id_port_loading\">\n            <option value=\"\">Select Loading Port</option>\n            <option v-for=\"port in loadingPorts\" :key=\"port.id\" :value=\"port.id\">\n              {{ port.loading_port }}\n            </option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"edit-car-discharge-port\">Discharge Port:</label>\n          <select id=\"edit-car-discharge-port\" v-model=\"editingCar.id_port_discharge\">\n            <option value=\"\">Select Discharge Port</option>\n            <option v-for=\"port in dischargePorts\" :key=\"port.id\" :value=\"port.id\">\n              {{ port.discharge_port }}\n            </option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"edit-car-price\">Selling Price:</label>\n          <input type=\"number\" id=\"edit-car-price\" v-model=\"editingCar.price_cell\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"edit-car-notes\">Notes:</label>\n          <textarea id=\"edit-car-notes\" v-model=\"editingCar.notes\"></textarea>\n        </div>\n        <div class=\"dialog-buttons\">\n          <button @click=\"updateCar\" class=\"primary\">Update</button>\n          <button @click=\"showCarEditDialog = false\">Cancel</button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Assign Car Dialog -->\n    <div class=\"dialog-overlay\" v-if=\"showAssignDialog\">\n      <div class=\"dialog\">\n        <h2>Assign Car to Bill</h2>\n        <div class=\"form-group\">\n          <label for=\"client\">Client: <span class=\"required\">*</span></label>\n          <select id=\"client\" v-model=\"carToAssign.id_client\" required>\n            <option value=\"\">Select Client</option>\n            <option v-for=\"client in clients\" :key=\"client.id\" :value=\"client.id\">{{ client.name }}</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"vin\">VIN:</label>\n          <input type=\"text\" id=\"vin\" v-model=\"carToAssign.vin\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"loading-port\">Loading Port:</label>\n          <select id=\"loading-port\" v-model=\"carToAssign.id_port_loading\">\n            <option value=\"\">Select Loading Port</option>\n            <option v-for=\"port in loadingPorts\" :key=\"port.id\" :value=\"port.id\">{{ port.loading_port }}</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"discharge-port\">Discharge Port: <span class=\"required\">*</span></label>\n          <select id=\"discharge-port\" v-model=\"carToAssign.id_port_discharge\" required>\n            <option value=\"\">Select Discharge Port</option>\n            <option v-for=\"port in dischargePorts\" :key=\"port.id\" :value=\"port.id\">{{ port.discharge_port }}</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"sell-price\">Sell Price: <span class=\"required\">*</span></label>\n          <input type=\"number\" id=\"sell-price\" v-model=\"carToAssign.price_cell\" required>\n        </div>\n        <div class=\"dialog-buttons\">\n          <button @click=\"assignCarToBill\" class=\"primary\">Assign</button>\n          <button @click=\"showAssignDialog = false\">Cancel</button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Add Sell Bill Dialog -->\n    <div v-if=\"showAddDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Add New Sell Bill</h3>\n        \n        <div class=\"form-group\">\n          <label for=\"broker\">Broker:</label>\n          <select id=\"broker\" v-model=\"newSellBill.id_broker\">\n            <option value=\"\">Select Broker</option>\n            <option v-for=\"broker in brokers\" :key=\"broker.id\" :value=\"broker.id\">\n              {{ broker.name }}\n            </option>\n          </select>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"date\">Date:</label>\n          <input type=\"date\" id=\"date\" v-model=\"newSellBill.date_sell\">\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"notes\">Notes:</label>\n          <textarea id=\"notes\" v-model=\"newSellBill.notes\"></textarea>\n        </div>\n        \n        <div class=\"dialog-buttons\">\n          <button @click=\"showAddDialog = false\">Cancel</button>\n          <button @click=\"addSellBill\" class=\"primary\">Add</button>\n        </div>\n      </div>\n    </div>\n    <!-- Replace this edit dialog -->\n    <div v-if=\"showEditDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <h3>Edit Sell Bill</h3>\n        \n        <div class=\"form-group\">\n          <label for=\"edit-broker\">Broker:</label>\n          <select id=\"edit-broker\" v-model=\"editingSellBill.id_broker\">\n            <option value=\"\">Select Broker</option>\n            <option v-for=\"broker in brokers\" :key=\"broker.id\" :value=\"broker.id\">\n              {{ broker.name }}\n            </option>\n          </select>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"edit-date\">Date:</label>\n          <input type=\"date\" id=\"edit-date\" v-model=\"editingSellBill.date_sell\">\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"edit-notes\">Notes:</label>\n          <textarea id=\"edit-notes\" v-model=\"editingSellBill.notes\"></textarea>\n        </div>\n        \n        <div class=\"dialog-buttons\">\n          <button @click=\"showEditDialog = false\">Cancel</button>\n          <button @click=\"updateSellBill\" class=\"primary\">Update</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.sell-view {\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.add-btn {\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  padding: 10px 15px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.selected-bill {\n  margin-bottom: 15px;\n  padding: 10px;\n  background-color: #f8f9fa;\n  border-radius: 4px;\n}\n\n.bill-id {\n  font-weight: bold;\n  color: #007bff;\n}\n\n.tables-container {\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 10px;\n}\n\nth, td {\n  border: 1px solid #ddd;\n  padding: 8px;\n  text-align: left;\n}\n\nth {\n  background-color: #f2f2f2;\n}\n\ntr:hover {\n  background-color: #f5f5f5;\n}\n\ntr.selected {\n  background-color: #e0f7fa;\n}\n\n.view-btn {\n  background-color: #007bff;\n  color: white;\n  border: none;\n  padding: 5px 10px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.no-selection, .no-data {\n  padding: 20px;\n  text-align: center;\n  color: #6c757d;\n  background-color: #f8f9fa;\n  border-radius: 4px;\n}\n\n.loading, .error {\n  padding: 20px;\n  text-align: center;\n}\n\n.error {\n  color: #dc3545;\n  margin-left: 3px;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.dialog {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  width: 500px;\n  max-width: 90%;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 5px;\n}\n\n.form-group input,\n.form-group select,\n.form-group textarea {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.dialog-buttons {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 20px;\n}\n\n.dialog-buttons button {\n  padding: 8px 15px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.dialog-buttons button.primary {\n  background-color: #4CAF50;\n  color: white;\n}\n.edit-btn {\n  background-color: #3b82f6;\n  color: white;\n}\n.btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 8px;\n}\n.delete-btn {\n  background-color: #ef4444;\n  color: white;\n}\n\n.available-cars-table {\n  margin-top: 30px;\n}\n\n.assign-btn {\n  background-color: #ff9800;\n  color: white;\n  border: none;\n  padding: 5px 10px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.assign-btn:disabled {\n  background-color: #cccccc;\n  cursor: not-allowed;\n}\n\n.assign-btn:hover {\n  background-color: #f57c00;\n}\n\n.unassign-btn {\n  background-color: #680707;\n  color: white;\n  border: none;\n  padding: 5px 10px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.unassign-btn:hover {\n  background-color: #f50303;\n}\n\n\n</style>","<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport CarsStock from './CarsStock.vue'\nimport ClientsView from './ClientsView.vue'\nimport BrokersView from './BrokersView.vue'\nimport SuppliersView from './SuppliersView.vue'\nimport CarModelsView from './CarModelsView.vue'\nimport ColorsView from './ColorsView.vue'\nimport DischargePortsView from './DischargePortsView.vue'\nimport LoadingPortsView from './LoadingPortsView.vue'\nimport BuyView from './BuyView.vue'\nimport SellView from './SellView.vue'\nimport SellBillsView from './SellBillsView.vue'\nimport WarehousesView from './WarehousesView.vue'  // Add this import\n\nconst router = useRouter()\nconst activeView = ref(null)\n\nconst navigateTo = (view) => {\n  activeView.value = view\n}\n\nconst returnToDashboard = () => {\n  router.push('/')\n}\n</script>\n\n<template>\n  <div class=\"cars-view\">\n    <div class=\"sidebar\">\n      <div class=\"sidebar-top\">\n        <button \n          @click=\"returnToDashboard\"\n          class=\"sidebar-btn return-btn\"\n        >\n          Return to Dashboard\n        </button>\n        <button \n          @click=\"navigateTo('buy')\"\n          :class=\"{ active: activeView === 'buy' }\"\n          class=\"sidebar-btn buy-btn\"\n        >\n          Buy\n        </button>\n        <button v-if=\"false\"\n          @click=\"navigateTo('sell')\"\n          :class=\"{ active: activeView === 'sell' }\"\n          class=\"sidebar-btn sell-btn\"\n        >\n          Sell\n        </button>\n        <button \n          @click=\"navigateTo('sell-bills')\"\n          :class=\"{ active: activeView === 'sell-bills' }\"\n          class=\"sidebar-btn sell-bills-btn\"\n        >\n          Sell Bills\n        </button>\n        <button \n          @click=\"navigateTo('stock')\"\n          :class=\"{ active: activeView === 'stock' }\"\n          class=\"sidebar-btn stock-btn\"\n        >\n          Cars Stock\n        </button>\n      </div>\n\n      <div class=\"sidebar-bottom\">\n        <div class=\"sidebar-section-title\">Settings</div>\n        <button \n          @click=\"navigateTo('models')\"\n          :class=\"{ active: activeView === 'models' }\"\n          class=\"sidebar-btn\"\n        >\n          Car Models\n        </button>\n        <button \n          @click=\"navigateTo('colors')\"\n          :class=\"{ active: activeView === 'colors' }\"\n          class=\"sidebar-btn\"\n        >\n          Colors\n        </button>\n        <button \n          @click=\"navigateTo('discharge-ports')\"\n          :class=\"{ active: activeView === 'discharge-ports' }\"\n          class=\"sidebar-btn\"\n        >\n          Discharge Ports\n        </button>\n        <button \n          @click=\"navigateTo('loading-ports')\"\n          :class=\"{ active: activeView === 'loading-ports' }\"\n          class=\"sidebar-btn\"\n        >\n          Loading Ports\n        </button>\n        <button \n          @click=\"navigateTo('clients')\"\n          :class=\"{ active: activeView === 'clients' }\"\n          class=\"sidebar-btn\"\n        >\n          Clients\n        </button>\n        <button \n          @click=\"navigateTo('brokers')\"\n          :class=\"{ active: activeView === 'brokers' }\"\n          class=\"sidebar-btn\"\n        >\n          Brokers\n        </button>\n        <button \n          @click=\"navigateTo('suppliers')\"\n          :class=\"{ active: activeView === 'suppliers' }\"\n          class=\"sidebar-btn\"\n        >\n          Suppliers\n        </button>\n        <!-- Add Warehouses button at the bottom of the sidebar -->\n        <button \n          @click=\"navigateTo('warehouses')\"\n          :class=\"{ active: activeView === 'warehouses' }\"\n          class=\"sidebar-btn warehouses-btn\"\n        >\n          Warehouses\n        </button>\n      </div>\n    </div>\n    <div class=\"main-content\">\n      <h1>Cars Management</h1>\n      <div class=\"content\">\n        <div v-if=\"!activeView\" class=\"empty-state\">\n          Please select an option from the sidebar\n        </div>\n        <BuyView v-if=\"activeView === 'buy'\" />\n        <SellView v-if=\"activeView === 'sell'\" />\n        <SellBillsView v-if=\"activeView === 'sell-bills'\" />\n        <CarsStock v-if=\"activeView === 'stock'\" />\n        <CarModelsView v-if=\"activeView === 'models'\" />\n        <ColorsView v-if=\"activeView === 'colors'\" />\n        <DischargePortsView v-if=\"activeView === 'discharge-ports'\" />\n        <LoadingPortsView v-if=\"activeView === 'loading-ports'\" />\n        <ClientsView v-if=\"activeView === 'clients'\" />\n        <BrokersView v-if=\"activeView === 'brokers'\" />\n        <SuppliersView v-if=\"activeView === 'suppliers'\" />\n        <!-- Add conditional rendering for Warehouses view -->\n        <WarehousesView v-if=\"activeView === 'warehouses'\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.cars-view {\n  display: flex;\n  min-height: 100vh;\n}\n\n.sidebar {\n  width: 200px;\n  background-color: #2c3e50;\n  padding: 20px;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n}\n\n.sidebar-top {\n  border-bottom: 2px solid #34495e;\n  padding-bottom: 20px;\n}\n\n.sidebar-bottom {\n  flex: 1;\n}\n\n.sidebar-section-title {\n  font-size: 0.9em;\n  text-transform: uppercase;\n  color: #94a3b8;\n  margin-bottom: 10px;\n  padding-left: 10px;\n}\n\n.sidebar-btn {\n  width: 100%;\n  padding: 10px;\n  margin: 5px 0;\n  background: none;\n  border: none;\n  color: white;\n  text-align: left;\n  cursor: pointer;\n  border-radius: 4px;\n  transition: background-color 0.3s;\n}\n\n.buy-btn {\n  background-color: #10b981;\n}\n\n.buy-btn:hover {\n  background-color: #059669;\n}\n\n.buy-btn.active {\n  background-color: #047857;\n}\n\n.stock-btn {\n  background-color: #3b82f6;\n}\n\n.stock-btn:hover {\n  background-color: #2563eb;\n}\n\n.stock-btn.active {\n  background-color: #1d4ed8;\n}\n\n.main-content {\n  flex: 1;\n  padding: 20px;\n}\n\n.sidebar-btn:hover {\n  background-color: #34495e;\n}\n\n.sidebar-btn.active {\n  background-color: #3498db;\n}\n\n.content {\n  margin-top: 20px;\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\nh1 {\n  margin: 0;\n  color: #2c3e50;\n}\n\nh2 {\n  color: #2c3e50;\n  margin-top: 0;\n}\n.empty-state {\n  text-align: center;\n  color: #666;\n  padding: 40px;\n  font-size: 1.2em;\n}\n\n.return-btn {\n  margin-bottom: 20px;\n  background-color: #64748b;\n}\n\n.return-btn:hover {\n  background-color: #475569;\n}\n\n.buy-btn {\n  background-color: #10b981;\n  margin-bottom: 20px;\n}\n\n.buy-btn:hover {\n  background-color: #059669;\n}\n\n.buy-btn.active {\n  background-color: #047857;\n}\n\n.sell-btn {\n  background-color: #ef4444;\n  margin-bottom: 20px;\n}\n\n.sell-btn:hover {\n  background-color: #dc2626;\n}\n\n.sell-btn.active {\n  background-color: #b91c1c;\n}\n\n.sell-bills-btn {\n  background-color: #f59e0b;\n}\n\n.sell-bills-btn:hover {\n  background-color: #d97706;\n}\n\n.sell-bills-btn.active {\n  background-color: #b45309;\n}\n\n/* Add styling for the warehouses button */\n.warehouses-btn {\n  background-color: #10b981;\n  margin-top: 10px;\n}\n\n.warehouses-btn:hover {\n  background-color: #059669;\n}\n\n.warehouses-btn.active {\n  background-color: #047857;\n}\n</style>"],"names":["clients","ref","callApi","error","useApi","showAddDialog","showEditDialog","editingClient","user","validationError","isAdmin","computed","_a","validateEmail","email","newClient","fetchClients","result","addClient","editClient","client","updateClient","deleteClient","onMounted","userStr","suppliers","editingSupplier","newSupplier","fetchSuppliers","addSupplier","editSupplier","supplier","updateSupplier","deleteSupplier","showAddBrandDialog","showEditBrandDialog","showAddCarNameDialog","showEditCarNameDialog","brands","carNames","editingBrand","editingCarName","newBrand","newCarName","fetchBrands","fetchCarNames","addBrand","addCarName","editBrand","brand","editCarName","carName","updateBrand","updateCarName","deleteBrand","deleteCarName","colors","editingColor","newColor","fetchColors","addColor","editColor","color","updateColor","deleteColor","dischargePorts","editingPort","newPort","fetchPorts","addPort","editPort","port","updatePort","deletePort","loadingPorts","emit","__emit","selectBill","bill","props","__props","editingDetail","confirmDelete","detailId","isStockUpdated","openEditDialog","detail","handleEditSubmit","showStockAlert","i","buyBills","selectedBill","buyDetails","cars","showAddDetailDialog","newPurchase","newDetail","addPurchase","fetchBuyBills","fetchBuyDetails","billId","fetchCars","addDetail","handleDeleteDetail","handleUpdateDetail","updatedDetail","sellBills","carsStock","availableCars","loading","stockLoading","availableCarsLoading","selectedBillId","showAssignDialog","carToAssign","editingSellBill","showCarEditDialog","editingCar","newSellBill","brokers","fetchSellBills","err","fetchBrokers","fetchCarStock","sellBillId","fetchAvailableCars","addSellBill","fetchLoadingPorts","fetchDischargePorts","openAssignDialog","car","assignCarToBill","unassignCar","carId","event","updateSellBill","deleteSellBill","unassignResult","deleteResult","editCar","updateCar","router","useRouter","activeView","navigateTo","view","returnToDashboard"],"mappings":"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"}