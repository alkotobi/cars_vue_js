import{_ as x,u as W,r as u,o as L,c as n,a as e,b as g,n as A,w as h,v as m,t as p,F as M,d as N,g as a}from"./index.CbkLKmc7.js";const V={class:"warehouses-view"},B={class:"header"},T={key:0,class:"form-card"},F={class:"form-header"},S={class:"form-content"},$={class:"form-actions"},U={key:1,class:"form-card"},j={class:"form-header"},D={class:"form-content"},H={class:"form-actions"},R={class:"table-container"},q={key:0},I={key:1},O={key:2,class:"modern-table"},z=["onClick"],P=["onClick"],G={__name:"WarehousesView",setup(J){const{callApi:c}=W(),f=u([]),r=u({warhouse_name:"",notes:""}),l=u(null),i=u(!1),d=u(!1),k=u(!0),v=u(null),w=async()=>{try{const o=await c({query:"SELECT * FROM warehouses",params:[]});o.success?f.value=o.data:v.value="Failed to fetch warehouses: "+o.error}catch(o){v.value="Error fetching warehouses: "+o.message}finally{k.value=!1}},b=async()=>{try{(await c({query:"INSERT INTO warehouses (warhouse_name, notes) VALUES (?, ?)",params:[r.value.warhouse_name,r.value.notes]})).success&&(r.value={warhouse_name:"",notes:""},i.value=!1,await w())}catch(o){console.error("Error creating warehouse:",o)}},y=o=>{l.value={...o},d.value=!0},E=async()=>{try{(await c({query:"UPDATE warehouses SET warhouse_name = ?, notes = ? WHERE id = ?",params:[l.value.warhouse_name,l.value.notes,l.value.id]})).success&&(l.value=null,d.value=!1,await w())}catch(o){console.error("Error updating warehouse:",o)}},C=async o=>{if(confirm("Are you sure you want to delete this warehouse?"))try{(await c({query:"DELETE FROM warehouses WHERE id = ?",params:[o]})).success&&await w()}catch(s){console.error("Error deleting warehouse:",s)}};return L(()=>{w()}),(o,s)=>(a(),n("div",V,[e("div",B,[s[10]||(s[10]=e("h2",null,"Warehouses",-1)),e("button",{class:"add-button",onClick:s[0]||(s[0]=t=>i.value=!0)},s[9]||(s[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),A(" Add Warehouse ")]))]),i.value?(a(),n("div",T,[e("div",F,[s[12]||(s[12]=e("h3",null,"Add New Warehouse",-1)),e("button",{class:"close-button",onClick:s[1]||(s[1]=t=>i.value=!1)},s[11]||(s[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",S,[h(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>r.value.warhouse_name=t),placeholder:"Warehouse Name",class:"input-field"},null,512),[[m,r.value.warhouse_name]]),h(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=t=>r.value.notes=t),placeholder:"Notes",class:"input-field"},null,512),[[m,r.value.notes]])]),e("div",$,[e("button",{class:"save-button",onClick:b},"Save"),e("button",{class:"cancel-button",onClick:s[4]||(s[4]=t=>i.value=!1)},"Cancel")])])):g("",!0),d.value?(a(),n("div",U,[e("div",j,[s[14]||(s[14]=e("h3",null,"Edit Warehouse",-1)),e("button",{class:"close-button",onClick:s[5]||(s[5]=t=>d.value=!1)},s[13]||(s[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",D,[h(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>l.value.warhouse_name=t),placeholder:"Warehouse Name",class:"input-field"},null,512),[[m,l.value.warhouse_name]]),h(e("textarea",{"onUpdate:modelValue":s[7]||(s[7]=t=>l.value.notes=t),placeholder:"Notes",class:"input-field"},null,512),[[m,l.value.notes]])]),e("div",H,[e("button",{class:"save-button",onClick:E},"Save"),e("button",{class:"cancel-button",onClick:s[8]||(s[8]=t=>d.value=!1)},"Cancel")])])):g("",!0),e("div",R,[k.value?(a(),n("div",q,"Loading warehouses...")):v.value?(a(),n("div",I,p(v.value),1)):(a(),n("table",O,[s[17]||(s[17]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Warehouse Name"),e("th",null,"Notes"),e("th",null,"Actions")])],-1)),e("tbody",null,[(a(!0),n(M,null,N(f.value,t=>(a(),n("tr",{key:t.id},[e("td",null,p(t.id),1),e("td",null,p(t.warhouse_name),1),e("td",null,p(t.notes),1),e("td",null,[e("button",{class:"edit-button",onClick:_=>y(t)},s[15]||(s[15]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)]),8,z),e("button",{class:"delete-button",onClick:_=>C(t.id)},s[16]||(s[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)]),8,P)])]))),128))])]))])]))}},Q=x(G,[["__scopeId","data-v-a8189c7a"]]);export{Q as default};
//# sourceMappingURL=WarehousesView.DJ0CkOs8.js.map
