{"version":3,"file":"RolesView.CaCOkDI7.js","sources":["../src/components/RolesCrud.vue","../src/components/PermissionsCrud.vue","../src/components/RolePermissionsCrud.vue","../src/views/RolesView.vue"],"sourcesContent":["<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst { callApi, error, loading } = useApi()\nconst roles = ref([])\nconst newRole = ref({ role_name: '', description: '' })\nconst editingRole = ref(null)\nconst editRoleData = ref({ role_name: '', description: '' })\n\nconst fetchRoles = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM roles'\n  })\n  if (result.success) {\n    roles.value = result.data\n  }\n}\n\nconst addRole = async () => {\n  if (!newRole.value.role_name) return\n  const result = await callApi({\n    query: 'INSERT INTO roles (role_name, description) VALUES (?, ?)',\n    params: [newRole.value.role_name, newRole.value.description]\n  })\n  if (result.success) {\n    fetchRoles()\n    newRole.value = { role_name: '', description: '' }\n  }\n}\n\nconst startEditRole = (role) => {\n  editingRole.value = role.id\n  editRoleData.value = { role_name: role.role_name, description: role.description }\n}\n\nconst cancelEdit = () => {\n  editingRole.value = null\n  editRoleData.value = { role_name: '', description: '' }\n}\n\nconst updateRole = async (role) => {\n  const result = await callApi({\n    query: 'UPDATE roles SET role_name = ?, description = ? WHERE id = ?',\n    params: [editRoleData.value.role_name, editRoleData.value.description, role.id]\n  })\n  if (result.success) {\n    fetchRoles()\n    cancelEdit()\n  }\n}\n\nconst deleteRole = async (role) => {\n  // First confirm deletion\n  if (!confirm(`Are you sure you want to delete the role \"${role.role_name}\"?`)) {\n    return\n  }\n\n  // Check if role is used by any users\n  const checkResult = await callApi({\n    query: 'SELECT COUNT(*) as count FROM users WHERE role_id = ?',\n    params: [role.id]\n  })\n\n  if (checkResult.success && checkResult.data[0].count > 0) {\n    error.value = `Cannot delete role \"${role.role_name}\" because it is assigned to ${checkResult.data[0].count} user(s)`\n    return\n  }\n\n  const result = await callApi({\n    query: 'DELETE FROM roles WHERE id = ?',\n    params: [role.id]\n  })\n  if (result.success) {\n    fetchRoles()\n  }\n}\n\nonMounted(() => {\n  fetchRoles()\n})\n</script>\n\n<template>\n  <div class=\"roles-container\">\n    <h2 class=\"title\">Roles</h2>\n    <div class=\"content-container\">\n      <ul class=\"items-list\">\n        <li v-for=\"role in roles\" :key=\"role.id\" class=\"item\">\n          <template v-if=\"editingRole === role.id\">\n            <div class=\"edit-form\">\n              <input v-model=\"editRoleData.role_name\" placeholder=\"Role name\" class=\"input-field\" />\n              <input v-model=\"editRoleData.description\" placeholder=\"Description\" class=\"input-field\" />\n              <div class=\"button-group\">\n                <button @click=\"updateRole(role)\" :disabled=\"loading\" class=\"btn save-btn\">Save</button>\n                <button @click=\"cancelEdit\" class=\"btn cancel-btn\">Cancel</button>\n              </div>\n            </div>\n          </template>\n          <template v-else>\n            <div class=\"item-content\">\n              <div class=\"item-text\">\n                <strong>{{ role.role_name }}</strong>\n                <span class=\"description\">{{ role.description }}</span>\n              </div>\n              <div class=\"button-group\">\n                <button @click=\"startEditRole(role)\" class=\"btn edit-btn\">Edit</button>\n                <button @click=\"deleteRole(role)\" :disabled=\"loading\" class=\"btn delete-btn\">Delete</button>\n              </div>\n            </div>\n          </template>\n        </li>\n      </ul>\n      <div class=\"add-form\">\n        <input v-model=\"newRole.role_name\" placeholder=\"Role name\" class=\"input-field\" />\n        <input v-model=\"newRole.description\" placeholder=\"Description\" class=\"input-field\" />\n        <button @click=\"addRole\" :disabled=\"loading\" class=\"btn add-btn\">Add Role</button>\n      </div>\n      <div v-if=\"error\" class=\"error-message\">{{ error }}</div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.roles-container {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  padding: 24px;\n  min-width: 300px;\n}\n\n.title {\n  color: #2c3e50;\n  font-size: 24px;\n  margin-bottom: 20px;\n  font-weight: 600;\n}\n\n.content-container {\n  border-radius: 6px;\n  border: 1px solid #eaeaea;\n  padding: 16px;\n}\n\n.items-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.item {\n  margin-bottom: 12px;\n  padding: 12px;\n  background: #f8f9fa;\n  border-radius: 6px;\n  transition: background-color 0.2s;\n}\n\n.item:hover {\n  background: #edf2f7;\n}\n\n.item-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 12px;\n}\n\n.item-text {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.description {\n  color: #666;\n  font-size: 0.9em;\n}\n\n.button-group {\n  display: flex;\n  gap: 8px;\n}\n\n.input-field {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  margin-bottom: 8px;\n  font-size: 14px;\n}\n\n.input-field:focus {\n  outline: none;\n  border-color: #3b82f6;\n}\n\n.btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.2s;\n}\n\n.btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.edit-btn {\n  background: #3b82f6;\n  color: white;\n}\n\n.edit-btn:hover {\n  background: #2563eb;\n}\n\n.delete-btn {\n  background: #ef4444;\n  color: white;\n}\n\n.delete-btn:hover {\n  background: #dc2626;\n}\n\n.save-btn {\n  background: #10b981;\n  color: white;\n}\n\n.save-btn:hover {\n  background: #059669;\n}\n\n.cancel-btn {\n  background: #6b7280;\n  color: white;\n}\n\n.cancel-btn:hover {\n  background: #4b5563;\n}\n\n.add-btn {\n  background: #3b82f6;\n  color: white;\n  width: 100%;\n  padding: 8px;\n}\n\n.add-btn:hover {\n  background: #2563eb;\n}\n\n.add-form {\n  margin-top: 20px;\n  padding-top: 20px;\n  border-top: 1px solid #eaeaea;\n}\n\n.error-message {\n  color: #dc2626;\n  background: #fee2e2;\n  padding: 12px;\n  border-radius: 6px;\n  margin-top: 16px;\n  font-size: 14px;\n}\n\n@media (max-width: 640px) {\n  .roles-container {\n    padding: 16px;\n  }\n\n  .item-content {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .button-group {\n    margin-top: 8px;\n    width: 100%;\n    justify-content: flex-end;\n  }\n}\n</style>","<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst { callApi, error, loading } = useApi()\nconst permissions = ref([])\nconst newPermission = ref({ permission_name: '', description: '' })\nconst editingPermission = ref(null)\nconst editPermissionData = ref({ permission_name: '', description: '' })\n\nconst fetchPermissions = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM permissions'\n  })\n  if (result.success) {\n    permissions.value = result.data\n  }\n}\n\nconst addPermission = async () => {\n  if (!newPermission.value.permission_name) return\n  const result = await callApi({\n    query: 'INSERT INTO permissions (permission_name, description) VALUES (?, ?)',\n    params: [newPermission.value.permission_name, newPermission.value.description]\n  })\n  if (result.success) {\n    fetchPermissions()\n    newPermission.value = { permission_name: '', description: '' }\n  }\n}\n\nconst startEditPermission = (perm) => {\n  editingPermission.value = perm.id\n  editPermissionData.value = { permission_name: perm.permission_name, description: perm.description }\n}\n\nconst cancelEdit = () => {\n  editingPermission.value = null\n  editPermissionData.value = { permission_name: '', description: '' }\n}\n\nconst updatePermission = async (perm) => {\n  const result = await callApi({\n    query: 'UPDATE permissions SET permission_name = ?, description = ? WHERE id = ?',\n    params: [editPermissionData.value.permission_name, editPermissionData.value.description, perm.id]\n  })\n  if (result.success) {\n    fetchPermissions()\n    cancelEdit()\n  }\n}\n\nconst deletePermission = async (perm) => {\n  // First confirm deletion\n  if (!confirm(`Are you sure you want to delete the permission \"${perm.permission_name}\"?`)) {\n    return\n  }\n\n  // Check if permission is used by any roles\n  const checkResult = await callApi({\n    query: 'SELECT COUNT(*) as count FROM role_permissions WHERE permission_id = ?',\n    params: [perm.id]\n  })\n\n  if (checkResult.success && checkResult.data[0].count > 0) {\n    error.value = `Cannot delete permission \"${perm.permission_name}\" because it is assigned to ${checkResult.data[0].count} role(s)`\n    return\n  }\n\n  const result = await callApi({\n    query: 'DELETE FROM permissions WHERE id = ?',\n    params: [perm.id]\n  })\n  if (result.success) {\n    fetchPermissions()\n  }\n}\n\nonMounted(() => {\n  fetchPermissions()\n})\n</script>\n\n<template>\n  <div class=\"permissions-container\">\n    <h2 class=\"title\">Permissions</h2>\n    <div class=\"content-container\">\n      <ul class=\"items-list\">\n        <li v-for=\"perm in permissions\" :key=\"perm.id\" class=\"item\">\n          <template v-if=\"editingPermission === perm.id\">\n            <div class=\"edit-form\">\n              <input v-model=\"editPermissionData.permission_name\" placeholder=\"Permission name\" class=\"input-field\" />\n              <input v-model=\"editPermissionData.description\" placeholder=\"Description\" class=\"input-field\" />\n              <div class=\"button-group\">\n                <button @click=\"updatePermission(perm)\" :disabled=\"loading\" class=\"btn save-btn\">Save</button>\n                <button @click=\"cancelEdit\" class=\"btn cancel-btn\">Cancel</button>\n              </div>\n            </div>\n          </template>\n          <template v-else>\n            <div class=\"item-content\">\n              <div class=\"item-text\">\n                <strong>{{ perm.permission_name }}</strong>\n                <span class=\"description\">{{ perm.description }}</span>\n              </div>\n              <div class=\"button-group\">\n                <button @click=\"startEditPermission(perm)\" class=\"btn edit-btn\">Edit</button>\n                <button @click=\"deletePermission(perm)\" :disabled=\"loading\" class=\"btn delete-btn\">Delete</button>\n              </div>\n            </div>\n          </template>\n        </li>\n      </ul>\n      <div class=\"add-form\">\n        <input v-model=\"newPermission.permission_name\" placeholder=\"Permission name\" class=\"input-field\" />\n        <input v-model=\"newPermission.description\" placeholder=\"Description\" class=\"input-field\" />\n        <button @click=\"addPermission\" :disabled=\"loading\" class=\"btn add-btn\">Add Permission</button>\n      </div>\n      <div v-if=\"error\" class=\"error-message\">{{ error }}</div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.permissions-container {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  padding: 24px;\n  min-width: 300px;\n}\n\n.title {\n  color: #2c3e50;\n  font-size: 24px;\n  margin-bottom: 20px;\n  font-weight: 600;\n}\n\n.content-container {\n  border-radius: 6px;\n  border: 1px solid #eaeaea;\n  padding: 16px;\n}\n\n.items-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.item {\n  margin-bottom: 12px;\n  padding: 12px;\n  background: #f8f9fa;\n  border-radius: 6px;\n  transition: background-color 0.2s;\n}\n\n.item:hover {\n  background: #edf2f7;\n}\n\n.item-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 12px;\n}\n\n.item-text {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.description {\n  color: #666;\n  font-size: 0.9em;\n}\n\n.button-group {\n  display: flex;\n  gap: 8px;\n}\n\n.input-field {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  margin-bottom: 8px;\n  font-size: 14px;\n}\n\n.input-field:focus {\n  outline: none;\n  border-color: #3b82f6;\n}\n\n.btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.2s;\n}\n\n.btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.edit-btn {\n  background: #3b82f6;\n  color: white;\n}\n\n.edit-btn:hover {\n  background: #2563eb;\n}\n\n.delete-btn {\n  background: #ef4444;\n  color: white;\n}\n\n.delete-btn:hover {\n  background: #dc2626;\n}\n\n.save-btn {\n  background: #10b981;\n  color: white;\n}\n\n.save-btn:hover {\n  background: #059669;\n}\n\n.cancel-btn {\n  background: #6b7280;\n  color: white;\n}\n\n.cancel-btn:hover {\n  background: #4b5563;\n}\n\n.add-btn {\n  background: #3b82f6;\n  color: white;\n  width: 100%;\n  padding: 8px;\n}\n\n.add-btn:hover {\n  background: #2563eb;\n}\n\n.add-form {\n  margin-top: 20px;\n  padding-top: 20px;\n  border-top: 1px solid #eaeaea;\n}\n\n.error-message {\n  color: #dc2626;\n  background: #fee2e2;\n  padding: 12px;\n  border-radius: 6px;\n  margin-top: 16px;\n  font-size: 14px;\n}\n\n@media (max-width: 640px) {\n  .permissions-container {\n    padding: 16px;\n  }\n\n  .item-content {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .button-group {\n    margin-top: 8px;\n    width: 100%;\n    justify-content: flex-end;\n  }\n}\n</style>","<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst { callApi, error, loading } = useApi()\nconst rolePermissions = ref([])\nconst roles = ref([])\nconst permissions = ref([])\n\nconst fetchRolePermissions = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM role_permissions'\n  })\n  if (result.success) {\n    rolePermissions.value = result.data\n  }\n}\n\nconst fetchRoles = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM roles'\n  })\n  if (result.success) {\n    roles.value = result.data\n  }\n}\n\nconst fetchPermissions = async () => {\n  const result = await callApi({\n    query: 'SELECT * FROM permissions'\n  })\n  if (result.success) {\n    permissions.value = result.data\n  }\n}\n\nconst hasPermission = (role_id, permission_id) => {\n  return rolePermissions.value.some(rp => \n    rp.role_id === role_id && rp.permission_id === permission_id\n  )\n}\n\nconst togglePermission = async (role_id, permission_id, checked) => {\n  if (checked) {\n    // Add permission\n    const result = await callApi({\n      query: 'INSERT INTO role_permissions (role_id, permission_id) VALUES (?, ?)',\n      params: [role_id, permission_id]\n    })\n    if (result.success) {\n      fetchRolePermissions()\n    }\n  } else {\n    // Remove permission\n    const result = await callApi({\n      query: 'DELETE FROM role_permissions WHERE role_id = ? AND permission_id = ?',\n      params: [role_id, permission_id]\n    })\n    if (result.success) {\n      fetchRolePermissions()\n    }\n  }\n}\n\nonMounted(() => {\n  fetchRolePermissions()\n  fetchRoles()\n  fetchPermissions()\n})\n</script>\n\n<template>\n  <div class=\"role-permissions-container\">\n    <h2 class=\"title\">Role Permissions</h2>\n    <div class=\"table-container\">\n      <table>\n        <thead>\n          <tr>\n            <th>Role</th>\n            <th>Permissions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"role in roles\" :key=\"role.id\">\n            <td class=\"role-name\">{{ role.role_name }}</td>\n            <td class=\"permissions-cell\">\n              <div class=\"permission-item\" v-for=\"permission in permissions\" :key=\"permission.id\">\n                <label class=\"checkbox-label\">\n                  <input \n                    type=\"checkbox\" \n                    :checked=\"hasPermission(role.id, permission.id)\"\n                    @change=\"togglePermission(role.id, permission.id, $event.target.checked)\"\n                    :disabled=\"loading\"\n                  />\n                  <span class=\"checkbox-text\">{{ permission.permission_name }}</span>\n                </label>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div v-if=\"error\" class=\"error-message\">{{ error }}</div>\n  </div>\n</template>\n\n<style scoped>\n.role-permissions-container {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  padding: 24px;\n}\n\n.title {\n  color: #2c3e50;\n  font-size: 24px;\n  margin-bottom: 20px;\n  font-weight: 600;\n}\n\n.table-container {\n  overflow-x: auto;\n  margin: 20px 0;\n  border-radius: 6px;\n  border: 1px solid #eaeaea;\n}\n\ntable {\n  border-collapse: collapse;\n  width: 100%;\n  background: white;\n}\n\nth, td {\n  border: 1px solid #eaeaea;\n  padding: 12px 16px;\n  text-align: left;\n}\n\nth {\n  background-color: #f8f9fa;\n  color: #2c3e50;\n  font-weight: 600;\n  white-space: nowrap;\n}\n\n.role-name {\n  font-weight: 500;\n  color: #2c3e50;\n}\n\n.permissions-cell {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12px;\n  min-width: 300px;\n  padding: 8px;\n}\n\n.permission-item {\n  background: #f8f9fa;\n  border-radius: 6px;\n  padding: 6px 12px;\n  transition: background-color 0.2s;\n}\n\n.permission-item:hover {\n  background: #edf2f7;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  user-select: none;\n}\n\n.checkbox-text {\n  color: #4a5568;\n  font-size: 14px;\n}\n\ninput[type=\"checkbox\"] {\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n  accent-color: #3b82f6;\n}\n\ninput[type=\"checkbox\"]:disabled {\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.error-message {\n  color: #dc2626;\n  background: #fee2e2;\n  padding: 12px;\n  border-radius: 6px;\n  margin-top: 16px;\n  font-size: 14px;\n}\n\n@media (max-width: 640px) {\n  .role-permissions-container {\n    padding: 16px;\n  }\n\n  th, td {\n    padding: 8px;\n  }\n\n  .permissions-cell {\n    gap: 8px;\n  }\n}\n</style>","<script setup>\nimport { useRouter } from 'vue-router'\nimport RolesCrud from '../components/RolesCrud.vue'\nimport PermissionsCrud from '../components/PermissionsCrud.vue'\nimport RolePermissionsCrud from '../components/RolePermissionsCrud.vue'\n\nconst router = useRouter()\nconst goToUsers = () => {\n  router.push('/users')\n}\n</script>\n\n<template>\n  <div class=\"roles-page\">\n    <div class=\"header\">\n      <button @click=\"goToUsers\" class=\"back-btn\">‚Üê Return to Users</button>\n      <h1>Roles, Permissions, and Role Permissions Management</h1>\n    </div>\n    <div class=\"crud-section\">\n      <RolesCrud />\n      <PermissionsCrud />\n      <RolePermissionsCrud />\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.roles-page {\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  margin-bottom: 20px;\n}\n\n.back-btn {\n  padding: 8px 16px;\n  background-color: #3b82f6;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.back-btn:hover {\n  background-color: #2563eb;\n}\n\n.crud-section {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 40px;\n  margin-top: 30px;\n}\n</style>"],"names":["callApi","error","loading","useApi","roles","ref","newRole","editingRole","editRoleData","fetchRoles","result","addRole","startEditRole","role","cancelEdit","updateRole","deleteRole","checkResult","onMounted","permissions","newPermission","editingPermission","editPermissionData","fetchPermissions","addPermission","startEditPermission","perm","updatePermission","deletePermission","rolePermissions","fetchRolePermissions","hasPermission","role_id","permission_id","rp","togglePermission","checked","router","useRouter","goToUsers"],"mappings":"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"}