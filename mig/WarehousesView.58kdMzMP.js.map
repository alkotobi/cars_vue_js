{"version":3,"file":"WarehousesView.58kdMzMP.js","sources":["../src/views/WarehousesView.vue"],"sourcesContent":["<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useApi } from '../composables/useApi'\n\nconst { callApi } = useApi()\nconst warehouses = ref([])\nconst newWarehouse = ref({\n  warhouse_name: '',\n  notes: ''\n})\nconst editingWarehouse = ref(null)\nconst showAddForm = ref(false)\nconst showEditForm = ref(false)\nconst isLoading = ref(true)\nconst error = ref(null)\n\n// Fetch all warehouses\nconst fetchWarehouses = async () => {\n  try {\n    const result = await callApi({\n      query: 'SELECT * FROM warehouses',\n      params: []\n    })\n    if (result.success) {\n      warehouses.value = result.data\n    } else {\n      error.value = 'Failed to fetch warehouses: ' + result.error\n    }\n  } catch (err) {\n    error.value = 'Error fetching warehouses: ' + err.message\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Create a new warehouse\nconst createWarehouse = async () => {\n  try {\n    const result = await callApi({\n      query: 'INSERT INTO warehouses (warhouse_name, notes) VALUES (?, ?)',\n      params: [newWarehouse.value.warhouse_name, newWarehouse.value.notes]\n    })\n    if (result.success) {\n      newWarehouse.value = { warhouse_name: '', notes: '' }\n      showAddForm.value = false\n      await fetchWarehouses()\n    }\n  } catch (err) {\n    console.error('Error creating warehouse:', err)\n  }\n}\n\n// Edit a warehouse\nconst startEdit = (warehouse) => {\n  editingWarehouse.value = { ...warehouse }\n  showEditForm.value = true\n}\n\n// Update a warehouse\nconst updateWarehouse = async () => {\n  try {\n    const result = await callApi({\n      query: 'UPDATE warehouses SET warhouse_name = ?, notes = ? WHERE id = ?',\n      params: [editingWarehouse.value.warhouse_name, editingWarehouse.value.notes, editingWarehouse.value.id]\n    })\n    if (result.success) {\n      editingWarehouse.value = null\n      showEditForm.value = false\n      await fetchWarehouses()\n    }\n  } catch (err) {\n    console.error('Error updating warehouse:', err)\n  }\n}\n\n// Delete a warehouse\nconst deleteWarehouse = async (id) => {\n  if (!confirm('Are you sure you want to delete this warehouse?')) {\n    return\n  }\n  try {\n    const result = await callApi({\n      query: 'DELETE FROM warehouses WHERE id = ?',\n      params: [id]\n    })\n    if (result.success) {\n      await fetchWarehouses()\n    }\n  } catch (err) {\n    console.error('Error deleting warehouse:', err)\n  }\n}\n\nonMounted(() => {\n  fetchWarehouses()\n})\n</script>\n\n<template>\n  <div class=\"warehouses-view\">\n    <div class=\"header\">\n      <h2>Warehouses</h2>\n      <button class=\"add-button\" @click=\"showAddForm = true\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\" />\n        </svg>\n        Add Warehouse\n      </button>\n    </div>\n\n    <!-- Add Form -->\n    <div v-if=\"showAddForm\" class=\"form-card\">\n      <div class=\"form-header\">\n        <h3>Add New Warehouse</h3>\n        <button class=\"close-button\" @click=\"showAddForm = false\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n      </div>\n      <div class=\"form-content\">\n        <input v-model=\"newWarehouse.warhouse_name\" placeholder=\"Warehouse Name\" class=\"input-field\" />\n        <textarea v-model=\"newWarehouse.notes\" placeholder=\"Notes\" class=\"input-field\"></textarea>\n      </div>\n      <div class=\"form-actions\">\n        <button class=\"save-button\" @click=\"createWarehouse\">Save</button>\n        <button class=\"cancel-button\" @click=\"showAddForm = false\">Cancel</button>\n      </div>\n    </div>\n\n    <!-- Edit Form -->\n    <div v-if=\"showEditForm\" class=\"form-card\">\n      <div class=\"form-header\">\n        <h3>Edit Warehouse</h3>\n        <button class=\"close-button\" @click=\"showEditForm = false\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n      </div>\n      <div class=\"form-content\">\n        <input v-model=\"editingWarehouse.warhouse_name\" placeholder=\"Warehouse Name\" class=\"input-field\" />\n        <textarea v-model=\"editingWarehouse.notes\" placeholder=\"Notes\" class=\"input-field\"></textarea>\n      </div>\n      <div class=\"form-actions\">\n        <button class=\"save-button\" @click=\"updateWarehouse\">Save</button>\n        <button class=\"cancel-button\" @click=\"showEditForm = false\">Cancel</button>\n      </div>\n    </div>\n\n    <div class=\"table-container\">\n      <div v-if=\"isLoading\">Loading warehouses...</div>\n      <div v-else-if=\"error\">{{ error }}</div>\n      <table v-else class=\"modern-table\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Warehouse Name</th>\n            <th>Notes</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"warehouse in warehouses\" :key=\"warehouse.id\">\n            <td>{{ warehouse.id }}</td>\n            <td>{{ warehouse.warhouse_name }}</td>\n            <td>{{ warehouse.notes }}</td>\n            <td>\n              <button class=\"edit-button\" @click=\"startEdit(warehouse)\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10\" />\n                </svg>\n              </button>\n              <button class=\"delete-button\" @click=\"deleteWarehouse(warehouse.id)\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\" />\n                </svg>\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.warehouses-view {\n  padding: 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n}\n\n.add-button {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background-color: #22c55e;\n  color: white;\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 0.375rem;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.add-button:hover {\n  background-color: #16a34a;\n}\n\n.form-card {\n  background-color: white;\n  border-radius: 0.375rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n  margin-bottom: 2rem;\n}\n\n.form-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid #e5e7eb;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #6b7280;\n}\n\n.form-content {\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.input-field {\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  padding: 1rem 1.5rem;\n  border-top: 1px solid #e5e7eb;\n}\n\n.save-button {\n  background-color: #2563eb;\n  color: white;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 0.375rem;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.save-button:hover {\n  background-color: #1d4ed8;\n}\n\n.cancel-button {\n  background-color: #f3f4f6;\n  color: #374151;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 0.375rem;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.cancel-button:hover {\n  background-color: #e5e7eb;\n}\n\n.table-container {\n  overflow-x: auto;\n}\n\n.modern-table {\n  width: 100%;\n  border-collapse: collapse;\n  background-color: white;\n  border-radius: 0.375rem;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n\n.modern-table th,\n.modern-table td {\n  padding: 1rem;\n  text-align: left;\n  border-bottom: 1px solid #e5e7eb;\n}\n\n.modern-table th {\n  background-color: #f9fafb;\n  font-weight: 500;\n}\n\n.modern-table tbody tr:hover {\n  background-color: #f3f4f6;\n}\n\n.edit-button,\n.delete-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #6b7280;\n  padding: 0.25rem;\n}\n\n.edit-button:hover {\n  color: #2563eb;\n}\n\n.delete-button:hover {\n  color: #dc2626;\n}\n</style>"],"names":["callApi","useApi","warehouses","ref","newWarehouse","editingWarehouse","showAddForm","showEditForm","isLoading","error","fetchWarehouses","result","err","createWarehouse","startEdit","warehouse","updateWarehouse","deleteWarehouse","id","onMounted"],"mappings":"mhBAIA,KAAM,CAAE,QAAAA,CAAS,EAAGC,EAAM,EACpBC,EAAaC,EAAI,CAAE,CAAA,EACnBC,EAAeD,EAAI,CACvB,cAAe,GACf,MAAO,EACT,CAAC,EACKE,EAAmBF,EAAI,IAAI,EAC3BG,EAAcH,EAAI,EAAK,EACvBI,EAAeJ,EAAI,EAAK,EACxBK,EAAYL,EAAI,EAAI,EACpBM,EAAQN,EAAI,IAAI,EAGhBO,EAAkB,SAAY,CAClC,GAAI,CACF,MAAMC,EAAS,MAAMX,EAAQ,CAC3B,MAAO,2BACP,OAAQ,CAAA,CACT,CAAA,EACGW,EAAO,QACTT,EAAW,MAAQS,EAAO,KAE1BF,EAAM,MAAQ,+BAAiCE,EAAO,KAEzD,OAAQC,EAAK,CACZH,EAAM,MAAQ,8BAAgCG,EAAI,OACtD,QAAY,CACRJ,EAAU,MAAQ,EACtB,CACA,EAGMK,EAAkB,SAAY,CAClC,GAAI,EACa,MAAMb,EAAQ,CAC3B,MAAO,8DACP,OAAQ,CAACI,EAAa,MAAM,cAAeA,EAAa,MAAM,KAAK,CACpE,CAAA,GACU,UACTA,EAAa,MAAQ,CAAE,cAAe,GAAI,MAAO,EAAE,EACnDE,EAAY,MAAQ,GACpB,MAAMI,EAAe,EAExB,OAAQE,EAAK,CACZ,QAAQ,MAAM,4BAA6BA,CAAG,CAClD,CACA,EAGME,EAAaC,GAAc,CAC/BV,EAAiB,MAAQ,CAAE,GAAGU,CAAS,EACvCR,EAAa,MAAQ,EACvB,EAGMS,EAAkB,SAAY,CAClC,GAAI,EACa,MAAMhB,EAAQ,CAC3B,MAAO,kEACP,OAAQ,CAACK,EAAiB,MAAM,cAAeA,EAAiB,MAAM,MAAOA,EAAiB,MAAM,EAAE,CACvG,CAAA,GACU,UACTA,EAAiB,MAAQ,KACzBE,EAAa,MAAQ,GACrB,MAAMG,EAAe,EAExB,OAAQE,EAAK,CACZ,QAAQ,MAAM,4BAA6BA,CAAG,CAClD,CACA,EAGMK,EAAkB,MAAOC,GAAO,CACpC,GAAK,QAAQ,iDAAiD,EAG9D,GAAI,EACa,MAAMlB,EAAQ,CAC3B,MAAO,sCACP,OAAQ,CAACkB,CAAE,CACZ,CAAA,GACU,SACT,MAAMR,EAAe,CAExB,OAAQE,EAAK,CACZ,QAAQ,MAAM,4BAA6BA,CAAG,CAClD,CACA,EAEA,OAAAO,EAAU,IAAM,CACdT,EAAe,CACjB,CAAC"}